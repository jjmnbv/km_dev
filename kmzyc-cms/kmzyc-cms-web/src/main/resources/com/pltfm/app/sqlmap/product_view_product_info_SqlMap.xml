<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"
        "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="VIEW_PRODUCT_INFO">
    <resultMap id="abatorgenerated_ViewProductInfoResult"
               class="com.pltfm.app.vobject.ViewProductInfo">
        <!--
          WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
          This element was generated on Wed Sep 18 15:15:58 CST 2013.
              产品类
        -->
        <result column="PRODUCT_ID" property="productId" jdbcType="DECIMAL"/>
        <!--  <result column="PRODUCT_ID" property="viewProductDetailInfoList" select="VIEW_PRODUCT_INFO.queryProductDetailByProductId" /> -->
        <result column="PRODUCT_ID" property="productAttrList"
                select="VIEW_PRODUCT_INFO.queryProductAttrByProductId"/>

        <result column="UP_TIME" property="upTime" jdbcType="Date"/>
        <result column="CATEGORY_ID" property="categoryId" jdbcType="DECIMAL"/>
        <result column="CATEGORY_NAME" property="categoryName" jdbcType="VARCHAR"/>
        <result column="PROCUCT_NAME" property="procuctName" jdbcType="VARCHAR"/>
        <result column="PRODUCT_TITLE" property="productTitle" jdbcType="VARCHAR"/>
        <result column="PRODUCT_SUBTITLE" property="productSubtitle" jdbcType="VARCHAR"/>

        <result column="KEYWORD" property="keyword" jdbcType="VARCHAR"/>
        <result column="PRODUCTHOT" property="producthot" jdbcType="DECIMAL"/>
        <result column="SHOP_CODE" property="shopCode" jdbcType="VARCHAR"/>
        <result column="MARKET_PRICE" property="marketPrice" jdbcType="DECIMAL"/>
        <result column="PRODUCT_NO" property="productNo" jdbcType="VARCHAR"/>
        <result column="BRAND_ID" property="brandId" jdbcType="DECIMAL"/>
        <result column="BRAND_NAME" property="brandName" jdbcType="VARCHAR"/>
        <result column="APPROVAL_TYPE" property="approvalType" jdbcType="DECIMAL"/>
        <result column="APPROVAL_NO" property="approvalNo" jdbcType="VARCHAR"/>
        <result column="PRODUCT_SKU_ID" property="productSkuId" jdbcType="DECIMAL"/>
        <result column="PRODUCT_SKU_ID" property="productImageList"
                select="VIEW_PRODUCT_INFO.queryProductImageBySkuId"/>
        <result column="INTRODUCE" property="introduce" jdbcType="VARCHAR"/>
        <result column="PRODUCT_SKU_CODE" property="productSkuCode" jdbcType="VARCHAR"/>
        <result column="PRICE" property="price" jdbcType="DECIMAL"/>
        <result column="PV_VALUE" property="pvValue" jdbcType="DECIMAL"/>

        <result column="WAREHOUSE_NAME" property="warehouseName" jdbcType="VARCHAR"/>
        <result column="SKU_INTRODUCE" property="skuIntroduce" jdbcType="VARCHAR"/>
        <result column="BRAND_INTRODUCE" property="brandIntroduct" jdbcType="VARCHAR"/>

        <result column="NUM" property="num" jdbcType="DECIMAL"/>
        <result column="POINT" property="point" jdbcType="DECIMAL"/>
        <result column="SKUDESC" property="skudesc" jdbcType="DECIMAL"/>

        <result column="IMG_PATH7" property="imgPath7" jdbcType="VARCHAR"/>
        <result column="IMG_PATH8" property="imgPath8" jdbcType="VARCHAR"/>
        <result column="IMG_PATH5" property="imgPath5" jdbcType="VARCHAR"/>

    </resultMap>
    <!--cms生成产品详细页面所需产品信息结果集合 -->
    <resultMap id="abatorgenerated_ViewProductResult" class="com.pltfm.app.vobject.ViewProductInfo">
        <result column="PRODUCT_ID" property="productAttrList"
                select="VIEW_PRODUCT_INFO.queryProductAttrByProductId"/>
        <result column="PRODUCT_ID" property="productId" jdbcType="DECIMAL"/>
        <result column="UP_TIME" property="upTime" jdbcType="Date"/>
        <result column="CATEGORY_ID" property="categoryId" jdbcType="DECIMAL"/>
        <result column="b_CATEGORY_ID" property="bcategoryId" jdbcType="DECIMAL"/>
        <result column="m_CATEGORY_ID" property="mcategoryId" jdbcType="DECIMAL"/>

        <result column="CATEGORY_NAME" property="categoryName" jdbcType="VARCHAR"/>
        <result column="PROCUCT_NAME" property="procuctName" jdbcType="VARCHAR"/>
        <result column="PRODUCT_TITLE" property="productTitle" jdbcType="VARCHAR"/>
        <result column="PRODUCT_SUBTITLE" property="productSubtitle" jdbcType="VARCHAR"/>
        <result column="KEYWORD" property="keyword" jdbcType="VARCHAR"/>
        <result column="PRODUCTHOT" property="producthot" jdbcType="DECIMAL"/>
        <result column="SHOP_CODE" property="shopCode" jdbcType="VARCHAR"/>
        <result column="MARKET_PRICE" property="marketPrice" jdbcType="DECIMAL"/>
        <result column="PRODUCT_NO" property="productNo" jdbcType="VARCHAR"/>
        <result column="BRAND_ID" property="brandId" jdbcType="DECIMAL"/>
        <result column="BRAND_NAME" property="brandName" jdbcType="VARCHAR"/>
        <result column="APPROVAL_TYPE" property="approvalType" jdbcType="DECIMAL"/>
        <result column="APPROVAL_NO" property="approvalNo" jdbcType="VARCHAR"/>
        <result column="PRODUCT_SKU_ID" property="productSkuId" jdbcType="DECIMAL"/>
        <result column="INTRODUCE" property="introduce" jdbcType="VARCHAR"/>
        <result column="PRODUCT_SKU_CODE" property="productSkuCode" jdbcType="VARCHAR"/>
        <result column="PRICE" property="price" jdbcType="DECIMAL"/>
        <result column="PRODUCT_DESC" property="productDesc" jdbcType="VARCHAR"/>
        <result column="WAREHOUSE_NAME" property="warehouseName" jdbcType="VARCHAR"/>
        <result column="SKU_INTRODUCE" property="skuIntroduce" jdbcType="VARCHAR"/>
        <result column="BRAND_INTRODUCE" property="brandIntroduct" jdbcType="VARCHAR"/>
        <!--  新加 shopName 供应商名、 supplierId 供应商ID、commercialTenantId 关联用户ID    -->
        <result column="SHOPNAME" property="shopName" jdbcType="VARCHAR"/>
        <result column="SUPPLIERID" property="supplierId" jdbcType="DECIMAL"/>
        <result column="COMMERCIALTENANTID" property="commercialTenantId" jdbcType="DECIMAL"/>
        <result column="SHOPID" property="shopId" jdbcType="DECIMAL"/>
        <result column="PRODUCT_TYPE" property="productType" jdbcType="DECIMAL"/>
        <result column="SKUDESC" property="skudesc" jdbcType="DECIMAL"/>
        <result column="PV_VALUE" property="pvValue" jdbcType="DECIMAL"/>
        <result column="COST_INCOME_RATIO" property="costIncomeratio" jdbcType="DECIMAL"/>
        <!--
         <result column="free_status" property="freeStatus" jdbcType="VARCHAR" />
        <result column="freight" property="freight" jdbcType="DECIMAL" />
        -->

    </resultMap>

    <resultMap id="abatorgenerated_ProductImageResult" class="com.pltfm.app.vobject.ProductImage">
        <!--
          WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
          This element was generated on Sun Sep 22 16:55:07 CST 2013.
              产品图片类
        -->
        <result column="IMAGE_ID" property="imageId" jdbcType="DECIMAL"/>
        <result column="PRODUCT_NO" property="productNo" jdbcType="VARCHAR"/>
        <result column="SKU_ID" property="skuId" jdbcType="DECIMAL"/>
        <result column="IS_DEFAULT" property="isDefault" jdbcType="CHAR"/>
        <result column="IMG_PATH" property="imgPath" jdbcType="VARCHAR"/>
        <result column="IMG_PATH1" property="imgPath1" jdbcType="VARCHAR"/>
        <result column="IMG_PATH2" property="imgPath2" jdbcType="VARCHAR"/>
        <result column="IMG_PATH3" property="imgPath3" jdbcType="VARCHAR"/>
        <result column="IMG_PATH4" property="imgPath4" jdbcType="VARCHAR"/>
        <result column="SPC1" property="spc1" jdbcType="VARCHAR"/>
        <result column="SPC2" property="spc2" jdbcType="VARCHAR"/>
        <result column="PRODUCT_ID" property="productId" jdbcType="DECIMAL"/>
        <result column="IMG_PATH5" property="imgPath5" jdbcType="VARCHAR"/>
        <result column="IMG_PATH6" property="imgPath6" jdbcType="VARCHAR"/>
        <result column="IMG_PATH7" property="imgPath7" jdbcType="VARCHAR"/>
        <result column="IMG_PATH8" property="imgPath8" jdbcType="VARCHAR"/>
        <result column="SORTNO" property="sortno" jdbcType="DECIMAL"/>
    </resultMap>

    <resultMap id="abatorgenerated_ProductAttrResult" class="com.pltfm.app.vobject.ProductAttr">
        <!--
          WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
          This element was generated on Thu Oct 24 09:41:48 CST 2013.
                 产品属性关联
        -->
        <result column="PRODUCT_ATTR_ID" property="productAttrId" jdbcType="DECIMAL"/>
        <result column="PRODUCT_ID" property="productId" jdbcType="DECIMAL"/>
        <result column="PRODUCT_ATTR_NAME" property="productAttrName" jdbcType="VARCHAR"/>
        <result column="PRODUCT_ATTR_VALUE" property="productAttrValue" jdbcType="VARCHAR"/>
        <result column="PRODUCT_ATTR_TYPE" property="productAttrType" jdbcType="DECIMAL"/>
        <result column="RELATE_ATTR_ID" property="relateAttrId" jdbcType="DECIMAL"/>
        <result column="INPUT_TYPE" property="inputType" jdbcType="DECIMAL"/>
        <result column="IS_REQ" property="isReq" jdbcType="DECIMAL"/>
        <result column="IS_NAV" property="isNav" jdbcType="DECIMAL"/>
        <result column="IS_SKU" property="isSku" jdbcType="DECIMAL"/>
        <result column="SORTNO" property="sortno" jdbcType="DECIMAL"/>
        <result column="CREATE_TIME" property="createTime" jdbcType="DATE"/>
        <result column="CREATE_USER" property="createUser" jdbcType="DECIMAL"/>
    </resultMap>


    <resultMap id="abatorgenerated_ViewProductDetailInfoResult"
               class="com.pltfm.app.vobject.ViewProductDetailInfo">
        <!--
          WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
          This element was generated on Mon Sep 23 11:19:42 CST 2013.
              产品详情类
        -->
        <result column="PRODUCT_ID" property="productId" jdbcType="DECIMAL"/>
        <result column="PROCUCT_NAME" property="procuctName" jdbcType="VARCHAR"/>
        <result column="CATEGORY_NAME1" property="categoryName1" jdbcType="VARCHAR"/>
        <result column="CATEGORY_NAME2" property="categoryName2" jdbcType="VARCHAR"/>
        <result column="CATEGORY_NAME3" property="categoryName3" jdbcType="VARCHAR"/>
        <result column="PRODUCT_SKU_ID" property="productSkuId" jdbcType="DECIMAL"/>
        <result column="PRODUCT_SKU_CODE" property="productSkuCode" jdbcType="VARCHAR"/>
        <result column="PRODUCT_ATTR_NAME" property="productAttrName" jdbcType="VARCHAR"/>
        <result column="PRODUCT_ATTR_VALUE" property="productAttrValue" jdbcType="VARCHAR"/>
        <result column="PRODUCT_ATTR_TYPE" property="productAttrType" jdbcType="DECIMAL"/>
        <result column="RELATE_ATTR_ID" property="relateAttrId" jdbcType="DECIMAL"/>
        <result column="IS_REQ" property="isReq" jdbcType="DECIMAL"/>
        <result column="IS_NAV" property="isNav" jdbcType="DECIMAL"/>
        <result column="IS_SKU" property="isSku" jdbcType="DECIMAL"/>
        <result column="SORTNO" property="sortno" jdbcType="DECIMAL"/>
    </resultMap>

    <!-- promotion和product视图 -->
    <resultMap id="abatorgenerated_ViewProductSkuResult"
               class="com.pltfm.app.vobject.ViewProductSku">
        <!--
          WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
          This element was generated on Thu Dec 26 18:07:38 CST 2013.
        -->
        <result column="PRODUCT_ID" property="productId" jdbcType="DECIMAL"/>
        <result column="PROCUCT_NAME" property="procuctName" jdbcType="VARCHAR"/>
        <result column="PRODUCT_NO" property="productNo" jdbcType="VARCHAR"/>
        <result column="STATUS" property="status" jdbcType="VARCHAR"/>
        <result column="MARKET_PRICE" property="marketPrice" jdbcType="DECIMAL"/>
        <result column="COST_PRICE" property="costPrice" jdbcType="DECIMAL"/>
        <result column="CATEGORY_ID" property="categoryId" jdbcType="DECIMAL"/>
        <result column="CATEGORY_NAME" property="categoryName" jdbcType="VARCHAR"/>
        <result column="PRODUCT_SKU_ID" property="productSkuId" jdbcType="DECIMAL"/>
        <result column="PRODUCT_SKU_ID" property="productImageList"
                select="VIEW_PRODUCT_INFO.queryProductImageBySkuId"/>
        <result column="PRODUCT_SKU_ID" property="category_attr_value"
                select="VIEW_PRODUCT_INFO.abatorgenerated_getCategoryValueBySKU"/>
        <result column="PRODUCT_SKU_CODE" property="productSkuCode" jdbcType="VARCHAR"/>
        <result column="PRICE" property="price" jdbcType="DECIMAL"/>
        <result column="SKU_STATUS" property="skuStatus" jdbcType="CHAR"/>
        <result column="UNIT_WEIGHT" property="unitWeight" jdbcType="DECIMAL"/>
        <result column="MARK_PRICE" property="markPrice" jdbcType="DECIMAL"/>
    </resultMap>

    <!-- promotion和product视图 -->
    <resultMap id="abatorgenerated_PromotionResult" class="com.pltfm.app.vobject.ViewProductSku">
        <!--
          WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
          This element was generated on Thu Dec 26 18:07:38 CST 2013.
        -->
        <result column="PRODUCT_ID" property="productId" jdbcType="DECIMAL"/>
        <result column="PROCUCT_NAME" property="procuctName" jdbcType="VARCHAR"/>
        <result column="PRODUCT_NO" property="productNo" jdbcType="VARCHAR"/>
        <result column="CATEGORY_NAME" property="categoryName" jdbcType="VARCHAR"/>
        <result column="BRAND_NAME" property="brandName" jdbcType="VARCHAR"/>
        <result column="PRODUCT_SKU_ID" property="productSkuId" jdbcType="DECIMAL"/>
        <result column="PRODUCT_SKU_ID" property="productImageList"
                select="VIEW_PRODUCT_INFO.queryProductImageBySkuId"/>
        <result column="PRODUCT_SKU_ID" property="category_attr_value"
                select="VIEW_PRODUCT_INFO.abatorgenerated_getCategoryValueBySKU"/>
        <result column="PRICE" property="price" jdbcType="DECIMAL"/>
        <result column="MARK_PRICE" property="markPrice" jdbcType="DECIMAL"/>
    </resultMap>


    <!-- 产品id与SkuCode -->
    <resultMap id="ibatorgenerated_ProductResult" class="com.pltfm.app.vobject.ViewProductInfo">
        <result column="PRODUCT_ID" property="productId" jdbcType="DECIMAL"/>
        <result column="PRODUCT_SKU_CODE" property="productSkuCode" jdbcType="VARCHAR"/>
    </resultMap>

    <!-- 排行榜-->
    <resultMap id="abatorgenerated_Ranking" class="com.pltfm.app.vobject.ViewProductInfo">
        <!-- 排行榜-->
        <result column="PRODUCT_ID" property="productId" jdbcType="DECIMAL"/>
        <!--  <result column="PRODUCT_ID" property="viewProductDetailInfoList" select="VIEW_PRODUCT_INFO.queryProductDetailByProductId" /> -->
        <result column="PRODUCT_ID" property="productAttrList"
                select="VIEW_PRODUCT_INFO.queryProductAttrByProductId"/>

        <result column="UP_TIME" property="upTime" jdbcType="Date"/>
        <result column="CATEGORY_ID" property="categoryId" jdbcType="DECIMAL"/>
        <result column="CATEGORY_NAME" property="categoryName" jdbcType="VARCHAR"/>
        <result column="PROCUCT_NAME" property="procuctName" jdbcType="VARCHAR"/>
        <result column="PRODUCT_TITLE" property="productTitle" jdbcType="VARCHAR"/>
        <result column="PRODUCT_SUBTITLE" property="productSubtitle" jdbcType="VARCHAR"/>
        <result column="PRODUCT_SUBTITLE" property="productSubtitle" jdbcType="VARCHAR"/>
        <result column="KEYWORD" property="keyword" jdbcType="VARCHAR"/>
        <result column="PRODUCTHOT" property="producthot" jdbcType="DECIMAL"/>
        <result column="SHOP_CODE" property="shopCode" jdbcType="VARCHAR"/>
        <result column="MARKET_PRICE" property="marketPrice" jdbcType="DECIMAL"/>
        <result column="PRODUCT_NO" property="productNo" jdbcType="VARCHAR"/>
        <result column="BRAND_ID" property="brandId" jdbcType="DECIMAL"/>
        <result column="BRAND_NAME" property="brandName" jdbcType="VARCHAR"/>
        <result column="APPROVAL_TYPE" property="approvalType" jdbcType="DECIMAL"/>
        <result column="APPROVAL_NO" property="approvalNo" jdbcType="VARCHAR"/>
        <result column="PRODUCT_SKU_ID" property="productSkuId" jdbcType="DECIMAL"/>
        <result column="PRODUCT_SKU_ID" property="productImageList"
                select="VIEW_PRODUCT_INFO.queryProductImageBySkuId"/>
        <result column="INTRODUCE" property="introduce" jdbcType="VARCHAR"/>
        <result column="PRODUCT_SKU_CODE" property="productSkuCode" jdbcType="VARCHAR"/>
        <result column="PRICE" property="price" jdbcType="DECIMAL"/>

        <result column="WAREHOUSE_NAME" property="warehouseName" jdbcType="VARCHAR"/>
        <result column="SKU_INTRODUCE" property="skuIntroduce" jdbcType="VARCHAR"/>
        <result column="BRAND_INTRODUCE" property="brandIntroduct" jdbcType="VARCHAR"/>
        <result column="NUM" property="num" jdbcType="DECIMAL"/>
        <result column="POINT" property="point" jdbcType="DECIMAL"/>
        <result column="SKUDESC" property="skudesc" jdbcType="DECIMAL"/>
        <result column="SALEQUANTITY" property="saleQuantity" jdbcType="DECIMAL"/>

    </resultMap>

    <!-- 产品与窗口数据实体 -->
    <resultMap id="cmsWindowData_ViewProductInfoResult"
               class="com.pltfm.app.vobject.ViewProductInfo">
        <!--
          WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
          This element was generated on Wed Sep 18 15:15:58 CST 2013.
              产品类
        -->
        <result column="PRODUCT_ID" property="productId" jdbcType="DECIMAL"/>
        <!--  <result column="PRODUCT_ID" property="viewProductDetailInfoList" select="VIEW_PRODUCT_INFO.queryProductDetailByProductId" /> -->
        <result column="PRODUCT_ID" property="productAttrList"
                select="VIEW_PRODUCT_INFO.queryProductAttrByProductId"/>

        <result column="UP_TIME" property="upTime" jdbcType="Date"/>
        <result column="CATEGORY_ID" property="categoryId" jdbcType="DECIMAL"/>
        <result column="CATEGORY_NAME" property="categoryName" jdbcType="VARCHAR"/>
        <result column="PROCUCT_NAME" property="procuctName" jdbcType="VARCHAR"/>
        <result column="PRODUCT_TITLE" property="productTitle" jdbcType="VARCHAR"/>
        <result column="PRODUCT_SUBTITLE" property="productSubtitle" jdbcType="VARCHAR"/>
        <result column="PRODUCT_SUBTITLE" property="productSubtitle" jdbcType="VARCHAR"/>
        <result column="KEYWORD" property="keyword" jdbcType="VARCHAR"/>
        <result column="PRODUCTHOT" property="producthot" jdbcType="DECIMAL"/>
        <result column="SHOP_CODE" property="shopCode" jdbcType="VARCHAR"/>
        <result column="MARKET_PRICE" property="marketPrice" jdbcType="DECIMAL"/>
        <result column="PRODUCT_NO" property="productNo" jdbcType="VARCHAR"/>
        <result column="BRAND_ID" property="brandId" jdbcType="DECIMAL"/>
        <result column="BRAND_NAME" property="brandName" jdbcType="VARCHAR"/>
        <result column="APPROVAL_TYPE" property="approvalType" jdbcType="DECIMAL"/>
        <result column="APPROVAL_NO" property="approvalNo" jdbcType="VARCHAR"/>
        <result column="PRODUCT_SKU_ID" property="productSkuId" jdbcType="DECIMAL"/>
        <result column="PRODUCT_SKU_ID" property="productImageList"
                select="VIEW_PRODUCT_INFO.queryProductImageBySkuId"/>
        <result column="INTRODUCE" property="introduce" jdbcType="VARCHAR"/>
        <result column="PRODUCT_SKU_CODE" property="productSkuCode" jdbcType="VARCHAR"/>
        <result column="PRICE" property="price" jdbcType="DECIMAL"/>

        <result column="WAREHOUSE_NAME" property="warehouseName" jdbcType="VARCHAR"/>
        <result column="SKU_INTRODUCE" property="skuIntroduce" jdbcType="VARCHAR"/>
        <result column="BRAND_INTRODUCE" property="brandIntroduct" jdbcType="VARCHAR"/>

        <result column="NUM" property="num" jdbcType="DECIMAL"/>
        <result column="POINT" property="point" jdbcType="DECIMAL"/>
        <result column="SKUDESC" property="skudesc" jdbcType="DECIMAL"/>

        <result column="WINDOW_DATA_ID" property="windowDataId" jdbcType="DECIMAL"/>
        <result column="WINDOW_ID" property="windowId" jdbcType="DECIMAL"/>
        <result column="SORT" property="sort" jdbcType="DECIMAL"/>
        <result column="USER_DEFINED_NAME" property="userDefinedName" jdbcType="VARCHAR"/>

    </resultMap>

    <resultMap id="abatorgenerated_ViewProductInfoResult1"
               class="com.pltfm.app.vobject.ViewProductInfo">
        <!--
          WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
          This element was generated on Wed Sep 18 15:15:58 CST 2013.
              产品类
        -->
        <result column="PRODUCT_ID" property="productId" jdbcType="DECIMAL"/>
        <!--  <result column="PRODUCT_ID" property="viewProductDetailInfoList" select="VIEW_PRODUCT_INFO.queryProductDetailByProductId" /> -->
        <result column="PRODUCT_ID" property="productAttrList"
                select="VIEW_PRODUCT_INFO.queryProductAttrByProductId"/>

        <result column="UP_TIME" property="upTime" jdbcType="Date"/>
        <result column="CATEGORY_ID" property="categoryId" jdbcType="DECIMAL"/>
        <result column="shopCategoryId" property="categoryObj"
                select="VIEW_PRODUCT_INFO.queryProductCategorNameById"/>
        <result column="CATEGORY_NAME" property="categoryName" jdbcType="VARCHAR"/>
        <result column="PROCUCT_NAME" property="procuctName" jdbcType="VARCHAR"/>
        <result column="PRODUCT_TITLE" property="productTitle" jdbcType="VARCHAR"/>
        <result column="PRODUCT_SUBTITLE" property="productSubtitle" jdbcType="VARCHAR"/>
        <result column="PRODUCT_SUBTITLE" property="productSubtitle" jdbcType="VARCHAR"/>
        <result column="KEYWORD" property="keyword" jdbcType="VARCHAR"/>
        <result column="PRODUCTHOT" property="producthot" jdbcType="DECIMAL"/>
        <result column="SHOP_CODE" property="shopCode" jdbcType="VARCHAR"/>
        <result column="MARKET_PRICE" property="marketPrice" jdbcType="DECIMAL"/>
        <result column="PRODUCT_NO" property="productNo" jdbcType="VARCHAR"/>
        <result column="BRAND_ID" property="brandId" jdbcType="DECIMAL"/>
        <result column="BRAND_NAME" property="brandName" jdbcType="VARCHAR"/>
        <result column="APPROVAL_TYPE" property="approvalType" jdbcType="DECIMAL"/>
        <result column="APPROVAL_NO" property="approvalNo" jdbcType="VARCHAR"/>
        <result column="PRODUCT_SKU_ID" property="productSkuId" jdbcType="DECIMAL"/>
        <result column="PRODUCT_SKU_ID" property="productImageList"
                select="VIEW_PRODUCT_INFO.queryProductImageBySkuId"/>
        <result column="INTRODUCE" property="introduce" jdbcType="VARCHAR"/>
        <result column="PRODUCT_SKU_CODE" property="productSkuCode" jdbcType="VARCHAR"/>
        <result column="PRICE" property="price" jdbcType="DECIMAL"/>

        <result column="WAREHOUSE_NAME" property="warehouseName" jdbcType="VARCHAR"/>
        <result column="SKU_INTRODUCE" property="skuIntroduce" jdbcType="VARCHAR"/>
        <result column="BRAND_INTRODUCE" property="brandIntroduct" jdbcType="VARCHAR"/>

        <result column="NUM" property="num" jdbcType="DECIMAL"/>
        <result column="POINT" property="point" jdbcType="DECIMAL"/>
        <result column="SKUDESC" property="skudesc" jdbcType="DECIMAL"/>

    </resultMap>

    <resultMap id="abatorgenerated_ProductCatgorResult" class="com.pltfm.app.vobject.Category">
        <result column="category_name" property="categoryName" jdbcType="VARCHAR"/>
    </resultMap>

    <select id="queryProductCategorNameById" parameterClass="int"
            resultMap="abatorgenerated_ProductCatgorResult">
  select cat.category_name from shop_categorys  cat where cat.shop_category_id=#value#
  </select>

    <select id="queryProductAttrByProductId" parameterClass="int"
            resultMap="abatorgenerated_ProductAttrResult">
   select PRODUCT_ATTR_ID, PRODUCT_ID, PRODUCT_ATTR_NAME, PRODUCT_ATTR_VALUE, PRODUCT_ATTR_TYPE,
      RELATE_ATTR_ID, INPUT_TYPE, IS_REQ, IS_NAV, IS_SKU, SORTNO, CREATE_TIME, CREATE_USER
    from PRODUCT_ATTR where PRODUCT_ID = #productId# and PRODUCT_ATTR_TYPE=3  and PRODUCT_ATTR_NAME in('秋季适用','夏季适用','春季适用','冬季适用','药师推荐','清仓','新品')
  </select>

    <select id="queryProductImageBySkuId" parameterClass="int"
            resultMap="abatorgenerated_ProductImageResult">
  select IMAGE_ID, PRODUCT_NO, SKU_ID, IS_DEFAULT, IMG_PATH, IMG_PATH1, IMG_PATH2, IMG_PATH3,
      IMG_PATH4, SPC1, SPC2, PRODUCT_ID, IMG_PATH5, IMG_PATH6, IMG_PATH7,IMG_PATH8, SORTNO
    from PRODUCT_IMAGE where IS_DEFAULT = 0 and SKU_ID = #productSkuId#
  </select>

    <select id="queryProductDetailByProductId" parameterClass="int"
            resultMap="abatorgenerated_ViewProductDetailInfoResult">
  
  select PRODUCT_ID, PROCUCT_NAME, CATEGORY_NAME1, CATEGORY_NAME2, CATEGORY_NAME3, PRODUCT_SKU_ID,
      PRODUCT_SKU_CODE, PRODUCT_ATTR_NAME, PRODUCT_ATTR_VALUE, PRODUCT_ATTR_TYPE, RELATE_ATTR_ID,
      IS_REQ, IS_NAV, IS_SKU, SORTNO
    from VIEW_PRODUCT_DETAIL_INFO where PRODUCT_ID = #productId#
  </select>


    <sql id="abatorgenerated_Example_Where_Clause">
        <!--
          WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
          This element was generated on Wed Sep 18 15:15:58 CST 2013.
        -->
        <iterate property="oredCriteria" conjunction="or" prepend="where"
                 removeFirstPrepend="iterate">
            <isEqual property="oredCriteria[].valid" compareValue="true">
                (
                <iterate prepend="and" property="oredCriteria[].criteriaWithoutValue"
                         conjunction="and">
                    $oredCriteria[].criteriaWithoutValue[]$
                </iterate>
                <iterate prepend="and" property="oredCriteria[].criteriaWithSingleValue"
                         conjunction="and">
                    $oredCriteria[].criteriaWithSingleValue[].condition$
                    #oredCriteria[].criteriaWithSingleValue[].value#
                </iterate>
                <iterate prepend="and" property="oredCriteria[].criteriaWithListValue"
                         conjunction="and">
                    $oredCriteria[].criteriaWithListValue[].condition$
                    <iterate property="oredCriteria[].criteriaWithListValue[].values" open="("
                             close=")" conjunction=",">
                        #oredCriteria[].criteriaWithListValue[].values[]#
                    </iterate>
                </iterate>
                <iterate prepend="and" property="oredCriteria[].criteriaWithBetweenValue"
                         conjunction="and">
                    $oredCriteria[].criteriaWithBetweenValue[].condition$
                    #oredCriteria[].criteriaWithBetweenValue[].values[0]# and
                    #oredCriteria[].criteriaWithBetweenValue[].values[1]#
                </iterate>
                )
            </isEqual>
        </iterate>
    </sql>
    <select id="abatorgenerated_selectByExample" resultMap="abatorgenerated_ViewProductInfoResult"
            parameterClass="com.pltfm.app.vobject.ViewProductInfoExample">
        <!--
          WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
          This element was generated on Wed Sep 18 15:15:58 CST 2013.
        -->
        select PRODUCT_ID, CATEGORY_ID, CATEGORY_NAME, PROCUCT_NAME, PRODUCT_TITLE, KEYWORD,
        PRODUCTHOT, PRODUCT_SUBTITLE,
        SHOP_CODE, MARKET_PRICE, PRODUCT_NO, BRAND_ID, BRAND_NAME, APPROVAL_TYPE,
        APPROVAL_NO,PRODUCT_SKU_ID, PRODUCT_SKU_CODE,
        PRICE,UP_TIME,INTRODUCE,WAREHOUSE_NAME,SKU_INTRODUCE,BRAND_INTRODUCE,NUM,POINT,SKUDESC,PV_VALUE,IMG_PATH7,IMG_PATH8,IMG_PATH5
        from VIEW_PRODUCT_INFO
        <isParameterPresent>
            <include refid="VIEW_PRODUCT_INFO.abatorgenerated_Example_Where_Clause"/>
            <isNotNull property="orderByClause">
                order by $orderByClause$
            </isNotNull>
        </isParameterPresent>
    </select>
    <delete id="abatorgenerated_deleteByExample"
            parameterClass="com.pltfm.app.vobject.ViewProductInfoExample">
        <!--
          WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
          This element was generated on Wed Sep 18 15:15:58 CST 2013.
        -->
        delete from VIEW_PRODUCT_INFO
        <include refid="VIEW_PRODUCT_INFO.abatorgenerated_Example_Where_Clause"/>
    </delete>
    <insert id="abatorgenerated_insert" parameterClass="com.pltfm.app.vobject.ViewProductInfo">
        <!--
          WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
          This element was generated on Wed Sep 18 15:15:58 CST 2013.
        -->
        insert into VIEW_PRODUCT_INFO (PRODUCT_ID, CATEGORY_ID, CATEGORY_NAME, PROCUCT_NAME,
        PRODUCT_TITLE, KEYWORD, PRODUCTHOT, SHOP_CODE,  MARKET_PRICE, PRODUCT_NO,
        BRAND_ID,
        BRAND_NAME, APPROVAL_TYPE, APPROVAL_NO,PRODUCT_SKU_ID,
        PRODUCT_SKU_CODE, PRICE)
        values (#productId:DECIMAL#, #categoryId:DECIMAL#, #categoryName:VARCHAR#,
        #procuctName:VARCHAR#, #productTitle:VARCHAR#, #keyword:VARCHAR#, #producthot:DECIMAL#,
        #shopCode:VARCHAR#, #marketPrice:DECIMAL#, #productNo:VARCHAR#,
        #brandId:DECIMAL#, #brandName:VARCHAR#, #approvalType:DECIMAL#, #approvalNo:VARCHAR#,
        #productSkuId:DECIMAL#,
        #productSkuCode:VARCHAR#, #price:DECIMAL#)
    </insert>
    <select id="abatorgenerated_countByExample"
            parameterClass="com.pltfm.app.vobject.ViewProductInfoExample"
            resultClass="java.lang.Integer">
        <!--
          WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
          This element was generated on Wed Sep 18 15:15:58 CST 2013.
        -->
        select count(*) from VIEW_PRODUCT_INFO
        <include refid="VIEW_PRODUCT_INFO.abatorgenerated_Example_Where_Clause"/>
    </select>
    <update id="abatorgenerated_updateByExampleSelective">
        <!--
          WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
          This element was generated on Wed Sep 18 15:15:58 CST 2013.
        -->
        update VIEW_PRODUCT_INFO
        <dynamic prepend="set">
            <isNotNull prepend="," property="record.productId">
                PRODUCT_ID = #record.productId:DECIMAL#
            </isNotNull>
            <isNotNull prepend="," property="record.categoryId">
                CATEGORY_ID = #record.categoryId:DECIMAL#
            </isNotNull>
            <isNotNull prepend="," property="record.categoryName">
                CATEGORY_NAME = #record.categoryName:VARCHAR#
            </isNotNull>
            <isNotNull prepend="," property="record.procuctName">
                PROCUCT_NAME = #record.procuctName:VARCHAR#
            </isNotNull>
            <isNotNull prepend="," property="record.productTitle">
                PRODUCT_TITLE = #record.productTitle:VARCHAR#
            </isNotNull>
            <isNotNull prepend="," property="record.keyword">
                KEYWORD = #record.keyword:VARCHAR#
            </isNotNull>
            <isNotNull prepend="," property="record.producthot">
                PRODUCTHOT = #record.producthot:DECIMAL#
            </isNotNull>
            <isNotNull prepend="," property="record.shopCode">
                SHOP_CODE = #record.shopCode:VARCHAR#
            </isNotNull>
            <isNotNull prepend="," property="record.marketPrice">
                MARKET_PRICE = #record.marketPrice:DECIMAL#
            </isNotNull>
            <isNotNull prepend="," property="record.productNo">
                PRODUCT_NO = #record.productNo:VARCHAR#
            </isNotNull>
            <isNotNull prepend="," property="record.brandId">
                BRAND_ID = #record.brandId:DECIMAL#
            </isNotNull>
            <isNotNull prepend="," property="record.brandName">
                BRAND_NAME = #record.brandName:VARCHAR#
            </isNotNull>
            <isNotNull prepend="," property="record.approvalType">
                APPROVAL_TYPE = #record.approvalType:DECIMAL#
            </isNotNull>
            <isNotNull prepend="," property="record.approvalNo">
                APPROVAL_NO = #record.approvalNo:VARCHAR#
            </isNotNull>
            <isNotNull prepend="," property="record.productSkuId">
                PRODUCT_SKU_ID = #record.productSkuId:DECIMAL#
            </isNotNull>
            <isNotNull prepend="," property="record.productSkuCode">
                PRODUCT_SKU_CODE = #record.productSkuCode:VARCHAR#
            </isNotNull>
            <isNotNull prepend="," property="record.price">
                PRICE = #record.price:DECIMAL#
            </isNotNull>
        </dynamic>
        <isParameterPresent>
            <include refid="VIEW_PRODUCT_INFO.abatorgenerated_Example_Where_Clause"/>
        </isParameterPresent>
    </update>
    <update id="abatorgenerated_updateByExample">
        <!--
          WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
          This element was generated on Wed Sep 18 15:15:58 CST 2013.
        -->
        update VIEW_PRODUCT_INFO
        set PRODUCT_ID = #record.productId:DECIMAL#,
        CATEGORY_ID = #record.categoryId:DECIMAL#,
        CATEGORY_NAME = #record.categoryName:VARCHAR#,
        PROCUCT_NAME = #record.procuctName:VARCHAR#,
        PRODUCT_TITLE = #record.productTitle:VARCHAR#,
        KEYWORD = #record.keyword:VARCHAR#,
        PRODUCTHOT = #record.producthot:DECIMAL#,
        SHOP_CODE = #record.shopCode:VARCHAR#,
        MARKET_PRICE = #record.marketPrice:DECIMAL#,
        PRODUCT_NO = #record.productNo:VARCHAR#,
        BRAND_ID = #record.brandId:DECIMAL#,
        BRAND_NAME = #record.brandName:VARCHAR#,
        APPROVAL_TYPE = #record.approvalType:DECIMAL#,
        APPROVAL_NO = #record.approvalNo:VARCHAR#,
        PRODUCT_SKU_ID = #record.productSkuId:DECIMAL#,
        PRODUCT_SKU_CODE = #record.productSkuCode:VARCHAR#,
        PRICE = #record.price:DECIMAL#
        <isParameterPresent>
            <include refid="VIEW_PRODUCT_INFO.abatorgenerated_Example_Where_Clause"/>
        </isParameterPresent>
    </update>

    <!-- 根据Id查询单个产品 -->
    <select id="abatorgenerated_selectByPrimaryKey"
            resultMap="abatorgenerated_ViewProductInfoResult"
            parameterClass="com.pltfm.app.vobject.ViewProductInfo">
        <!--
          WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
          This element was generated on Tue Sep 03 16:15:27 CST 2013.
        -->
        select PRODUCT_ID, CATEGORY_ID, CATEGORY_NAME, PROCUCT_NAME, PRODUCT_TITLE,PRODUCT_SUBTITLE,
        KEYWORD, PRODUCTHOT,
        SHOP_CODE, MARKET_PRICE, PRODUCT_NO, BRAND_ID, BRAND_NAME, APPROVAL_TYPE,
        APPROVAL_NO,PRODUCT_SKU_ID, PRODUCT_SKU_CODE,
        PRICE,UP_TIME,INTRODUCE,WAREHOUSE_NAME,SKU_INTRODUCE,BRAND_INTRODUCE,NUM,POINT,SKUDESC,PV_VALUE,IMG_PATH7,IMG_PATH8,IMG_PATH5
        from VIEW_PRODUCT_INFO_PUBLISH where PRODUCT_ID = #productId:DECIMAL#
    </select>


    <!-- 通过产品查询实体查询产品预览视图信息 -->
    <select id="abatorgenerated_preViewProductByExample"
            resultMap="abatorgenerated_ViewProductResult"
            parameterClass="com.pltfm.app.vobject.ViewProductInfoExample">
        select PRODUCT_ID, CATEGORY_ID, b_category_id,m_category_id,CATEGORY_NAME, PROCUCT_NAME,
        PRODUCT_TITLE,PRODUCT_SUBTITLE,KEYWORD, PRODUCTHOT,
        SHOP_CODE, MARKET_PRICE, PRODUCT_NO, BRAND_ID, BRAND_NAME, APPROVAL_TYPE,
        APPROVAL_NO,PRODUCT_SKU_ID, PRODUCT_SKU_CODE, PRICE,UP_TIME,INTRODUCE,PRODUCT_DESC,
        WAREHOUSE_NAME,SKU_INTRODUCE,BRAND_INTRODUCE,SHOPNAME,SUPPLIERID,COMMERCIALTENANTID,SHOPID,PRODUCT_TYPE,SKUDESC,PV_VALUE,COST_INCOME_RATIO
        from PREVIEW_PRODUCT_INFO_PUBLISH
        <isParameterPresent>
            <include refid="VIEW_PRODUCT_INFO.abatorgenerated_Example_Where_Clause"/>
            <isNotNull property="orderByClause">
                order by $orderByClause$
            </isNotNull>
        </isParameterPresent>
    </select>
    <!-- 通过查询实体查询产品信息 -->
    <select id="abatorgenerated_queryViewProductByExample"
            resultMap="abatorgenerated_ViewProductResult"
            parameterClass="com.pltfm.app.vobject.ViewProductInfo">
        select PRODUCT_ID, CATEGORY_ID,b_category_id,m_category_id, CATEGORY_NAME, PROCUCT_NAME,
        PRODUCT_TITLE,PRODUCT_SUBTITLE,KEYWORD, PRODUCTHOT,
        SHOP_CODE, MARKET_PRICE, PRODUCT_NO, BRAND_ID, BRAND_NAME, APPROVAL_TYPE,
        APPROVAL_NO,PRODUCT_SKU_ID, PRODUCT_SKU_CODE, PRICE,UP_TIME,INTRODUCE,PRODUCT_DESC,
        WAREHOUSE_NAME,SKU_INTRODUCE,BRAND_INTRODUCE,SHOPNAME,SUPPLIERID,COMMERCIALTENANTID,SHOPID,PRODUCT_TYPE,SKUDESC,PV_VALUE,COST_INCOME_RATIO,corporate_name

        from VIEW_PRODUCT_INFO_PUBLISH
        <dynamic prepend="where">
            <isNotNull property="brandId">
                <isNotEmpty prepend="and" property="brandId">
                    BRAND_ID =#brandId#
                </isNotEmpty>
            </isNotNull>
            <isNotNull property="productId">
                <isNotEmpty prepend="and" property="productId">
                    PRODUCT_ID =#productId#
                </isNotEmpty>
            </isNotNull>

            <isNotNull property="productSkuCode">
                <isNotEmpty prepend="and" property="productSkuCode">
                    PRODUCT_SKU_CODE =#productSkuCode#
                </isNotEmpty>
            </isNotNull>
            <isNotNull property="shopName">
                <isNotEmpty prepend="and" property="shopName">
                    corporate_name =#shopName#
                </isNotEmpty>
            </isNotNull>

            <isNotNull property="productNo">
                <isNotEmpty prepend="and" property="productNo">
                    PRODUCT_NO = '$productNo$'
                </isNotEmpty>
            </isNotNull>
            <isNotNull property="startProductId">
                <isNotEmpty prepend="and" property="startProductId">
                    <![CDATA[ product_sku_id >=#startProductId# ]]>
                </isNotEmpty>
            </isNotNull>
            <isNotNull property="endProductId">
                <isNotEmpty prepend="and" property="endProductId">
                    <![CDATA[ product_sku_id <=#endProductId# ]]>
                </isNotEmpty>
            </isNotNull>
        </dynamic>
    </select>

    <!-- 通过查询实体查询产品草稿信息 -->
    <select id="abatorgenerated_queryViewpProductDraftInfoByExample"
            resultMap="abatorgenerated_ViewProductResult"
            parameterClass="com.pltfm.app.vobject.ViewProductInfo">
        select PRODUCT_ID, CATEGORY_ID,b_category_id,m_category_id, CATEGORY_NAME, PROCUCT_NAME,
        PRODUCT_TITLE,PRODUCT_SUBTITLE, KEYWORD, PRODUCTHOT,
        SHOP_CODE, MARKET_PRICE, PRODUCT_NO, BRAND_ID, BRAND_NAME, APPROVAL_TYPE,
        APPROVAL_NO,PRODUCT_SKU_ID, PRODUCT_SKU_CODE, PRICE,UP_TIME,INTRODUCE,PRODUCT_DESC,
        WAREHOUSE_NAME,SKU_INTRODUCE,BRAND_INTRODUCE,SHOPNAME,SUPPLIERID,COMMERCIALTENANTID,SHOPID,PRODUCT_TYPE,SKUDESC,PV_VALUE,COST_INCOME_RATIO
        from PREVIEW_PRODUCT_DRAFT_PUBLISH
        <dynamic prepend="where">
            <isNotNull property="brandId">
                <isNotEmpty prepend="and" property="brandId">
                    BRAND_ID =#brandId#
                </isNotEmpty>
            </isNotNull>
            <isNotNull property="productId">
                <isNotEmpty prepend="and" property="productId">
                    PRODUCT_ID =#productId#
                </isNotEmpty>
            </isNotNull>


            <isNotNull property="productNo">
                <isNotEmpty prepend="and" property="productNo">
                    PRODUCT_NO = '$productNo$'
                </isNotEmpty>
            </isNotNull>
            <isNotNull property="startProductId">
                <isNotEmpty prepend="and" property="startProductId">
                    <![CDATA[ PRODUCT_ID >=#startProductId# ]]>
                </isNotEmpty>
            </isNotNull>
            <isNotNull property="endProductId">
                <isNotEmpty prepend="and" property="endProductId">
                    <![CDATA[ PRODUCT_ID <=#endProductId# ]]>
                </isNotEmpty>
            </isNotNull>
        </dynamic>
    </select>

    <!-- 分页查询窗口数据列表信息 -->
    <select id="abatorgenerated_pageByViewProductInfo"
            resultMap="abatorgenerated_ViewProductInfoResult"
            parameterClass="com.pltfm.app.vobject.ViewProductInfo">

        select PRODUCT_ID, CATEGORY_ID, CATEGORY_NAME, PROCUCT_NAME, PRODUCT_TITLE, KEYWORD,
        PRODUCTHOT,PRODUCT_SUBTITLE,
        SHOP_CODE, MARKET_PRICE, PRODUCT_NO, BRAND_ID, BRAND_NAME, APPROVAL_TYPE,
        APPROVAL_NO,PRODUCT_SKU_ID, PRODUCT_SKU_CODE,
        PRICE,UP_TIME,INTRODUCE,WAREHOUSE_NAME,SKU_INTRODUCE,BRAND_INTRODUCE,NUM,POINT,SKUDESC,PV_VALUE,IMG_PATH7,IMG_PATH8,IMG_PATH5
        FROM (
        select ROW_NUMBER() OVER(order by PRODUCT_ID desc) as view_row_number, tt.* FROM
        VIEW_PRODUCT_INFO tt
        <dynamic prepend="where">

            <isNotNull property="productId">
                <isNotEmpty prepend="and" property="productId">
                    tt.PRODUCT_ID = #productId:INTEGER#
                </isNotEmpty>
            </isNotNull>

            <isNotNull property="productSkuId">
                <isNotEmpty prepend="and" property="productSkuId">
                    tt.PRODUCT_SKU_ID = #productSkuId:INTEGER#
                </isNotEmpty>
            </isNotNull>

            <isNotNull property="categoryId">
                <isNotEmpty prepend="and" property="categoryId">
                    tt.CATEGORY_ID = #categoryId:INTEGER#
                </isNotEmpty>
            </isNotNull>

            <isNotNull property="brandId">
                <isNotEmpty prepend="and" property="brandId">
                    tt.BRAND_ID = #brandId:INTEGER#
                </isNotEmpty>
            </isNotNull>

            <isNotNull property="procuctName">
                <isNotEmpty prepend="and" property="procuctName">
                    tt.PROCUCT_NAME like '%$procuctName$%'
                </isNotEmpty>
            </isNotNull>

            <isNotNull property="shopCode">
                <isNotEmpty prepend="and" property="shopCode">
                    tt.SHOP_CODE = #shopCode:VARCHAR#
                </isNotEmpty>
            </isNotNull>


            <isNotNull property="productSkuCode">
                <isNotEmpty prepend="and" property="productSkuCode">
                    tt.PRODUCT_SKU_CODE like '%$productSkuCode$%'
                </isNotEmpty>
            </isNotNull>
        </dynamic>
        )
        <![CDATA[ where view_row_number <= #endIndex# and view_row_number > #startIndex# ]]>
        <isNotNull property="upTime">
            order by UP_TIME desc
        </isNotNull>
    </select>

    <!-- 查询首页排行数据 前5条列表信息 -->
    <select id="abatorgenerated_pageRanking" resultMap="abatorgenerated_Ranking">
   with t as (select product_sku_id,sale_quantity
          from (select ps.product_sku_id,psq.sale_quantity
                  from productmain          m,
                       product_sku          ps,
                       product_sku_quantity psq
                 where psq.product_sku_id(+) = ps.product_sku_id
                   and m.product_id = ps.product_id
                   and ps.status = 1
                   and m.status = 3
                 order by psq.sale_quantity desc)
         where rownum &lt; = 5)
select p.PRODUCT_ID,
       p.CATEGORY_ID,
       p.CATEGORY_NAME,
       p.PROCUCT_NAME,
       p.PRODUCT_TITLE,
       p.KEYWORD,
       p.PRODUCTHOT,
       p.PRODUCT_SUBTITLE,
       p.SHOP_CODE,
       p.MARKET_PRICE,
       p.PRODUCT_NO,
       p.BRAND_ID,
       p.BRAND_NAME,
       p.APPROVAL_TYPE,
       p.APPROVAL_NO,
       p.PRODUCT_SKU_ID,
       p.PRODUCT_SKU_CODE,
       p.PRICE,
       p.UP_TIME,
       p.INTRODUCE,
       p.WAREHOUSE_NAME,
       p.SKU_INTRODUCE,
       p.BRAND_INTRODUCE,
       p.NUM,
       p.POINT,
       p.SKUDESC,
       t.sale_quantity as SALEQUANTITY
  FROM VIEW_PRODUCT_INFO p,t
 where p.PRODUCT_SKU_ID in
       (t.product_sku_id) order by t.sale_quantity desc
    </select>


    <!-- 分页查询窗口数据列表信息 -->
    <select id="abatorgenerated_pageByViewProductInfo1"
            resultMap="abatorgenerated_ViewProductInfoResult1"
            parameterClass="com.pltfm.app.vobject.ViewProductInfo">

        select tt1.PRODUCT_ID,CATEGORY_NAME, CATEGORY_ID, tt2.shop_category_id shopCategoryId,
        PROCUCT_NAME, PRODUCT_TITLE, KEYWORD, PRODUCTHOT,PRODUCT_SUBTITLE,
        SHOP_CODE,  MARKET_PRICE, PRODUCT_NO, BRAND_ID, BRAND_NAME, APPROVAL_TYPE,
        APPROVAL_NO,PRODUCT_SKU_ID, PRODUCT_SKU_CODE,
        PRICE,UP_TIME,INTRODUCE,WAREHOUSE_NAME,SKU_INTRODUCE,BRAND_INTRODUCE,NUM,POINT,SKUDESC
        FROM (
        <!--    select  ROW_NUMBER() OVER(order by tt.PRODUCT_ID desc) as view_row_number, tt.*,sh.shop_category_id shopCategoryId FROM VIEW_PRODUCT_INFO tt,SHOP_PRODUCT_CATEGORY sh
          where tt.PRODUCT_ID=sh.product_id-->

        select ROW_NUMBER() OVER(order by tt.PRODUCT_ID desc) as view_row_number, tt.* from
        VIEW_PRODUCT_INFO tt where product_id in (select product_id from SHOP_PRODUCT_CATEGORY where
        shop_category_id in
        (select shop_category_id from shop_categorys start with
        shop_category_id=#shopCategoryId:INTEGER# connect by prior
        shop_category_id=parent_Category_id )
        )

        <isNotNull property="productId">
            <isNotEmpty prepend="and" property="productId">
                tt.PRODUCT_ID = #productId:INTEGER#
            </isNotEmpty>
        </isNotNull>

        <isNotNull property="productSkuId">
            <isNotEmpty prepend="and" property="productSkuId">
                tt.PRODUCT_SKU_ID = #productSkuId:INTEGER#
            </isNotEmpty>
        </isNotNull>

        <!--    <isNotNull property="shopCategoryId">
              <isNotEmpty prepend="and" property="shopCategoryId">
                sh.shop_category_id= #shopCategoryId:INTEGER#
              </isNotEmpty>
          </isNotNull>-->

        <isNotNull property="productNameOrCode">
            <isNotEmpty prepend="and" property="productNameOrCode">
                (tt.PRODUCT_SKU_CODE like '%$productNameOrCode$%' or tt.PROCUCT_NAME like
                '%$productNameOrCode$%')
            </isNotEmpty>
        </isNotNull>

        <isNotNull property="shopCode">
            <isNotEmpty prepend="and" property="shopCode">
                tt.SHOP_CODE = #shopCode:VARCHAR#
            </isNotEmpty>
        </isNotNull>


        <isNotNull property="productSkuCode">
            <isNotEmpty prepend="and" property="productSkuCode">
                tt.PRODUCT_SKU_CODE like '%$productSkuCode$%'
            </isNotEmpty>
        </isNotNull>
        )
        <![CDATA[tt1,(select s1.shop_category_id,s1.product_id
                    from SHOP_PRODUCT_CATEGORY s1
                   where shop_category_id in
                         (select shop_category_id
                            from shop_categorys
                           start with shop_category_id = #shopCategoryId:INTEGER#
                          connect by prior
                                      shop_category_id = parent_Category_id))tt2  where tt1.PRODUCT_ID=tt2.product_id and view_row_number <= #endIndex# and view_row_number > #startIndex# ]]>
        <isNotNull property="upTime">
            order by UP_TIME desc
        </isNotNull>
    </select>
    <!-- 分页查询窗口数据列表信息 -->
    <select id="abatorgenerated_pageByViewProductInfoTwo"
            resultMap="abatorgenerated_ViewProductInfoResult"
            parameterClass="com.pltfm.app.vobject.ViewProductInfo">

        select PRODUCT_ID, CATEGORY_ID, CATEGORY_NAME, PROCUCT_NAME, PRODUCT_TITLE, KEYWORD,
        PRODUCTHOT,PRODUCT_SUBTITLE,
        SHOP_CODE,  MARKET_PRICE, PRODUCT_NO, BRAND_ID, BRAND_NAME, APPROVAL_TYPE,
        APPROVAL_NO,PRODUCT_SKU_ID, PRODUCT_SKU_CODE,
        PRICE,UP_TIME,INTRODUCE,WAREHOUSE_NAME,SKU_INTRODUCE,BRAND_INTRODUCE,NUM,POINT,SKUDESC,PV_VALUE,IMG_PATH7,IMG_PATH8,IMG_PATH5
        FROM (
        select ROW_NUMBER() OVER(order by PRODUCT_ID desc) as view_row_number, tt.* FROM
        VIEW_PRODUCT_INFO tt
        where 1=1

        <isNotNull property="productId">
            <isNotEmpty prepend="and" property="productId">
                tt.PRODUCT_ID = #productId:INTEGER#
            </isNotEmpty>
        </isNotNull>

        <isNotNull property="productSkuId">
            <isNotEmpty prepend="and" property="productSkuId">
                tt.PRODUCT_SKU_ID = #productSkuId:INTEGER#
            </isNotEmpty>
        </isNotNull>

        <isNotNull property="shopCategoryId">
            <isNotEmpty prepend="and" property="shopCategoryId">
                sh.shop_category_id= #shopCategoryId:INTEGER#
            </isNotEmpty>
        </isNotNull>

        <isNotNull property="productNameOrCode">
            <isNotEmpty prepend="and" property="productNameOrCode">
                (tt.PRODUCT_SKU_CODE like '%$productNameOrCode$%' or tt.PROCUCT_NAME like
                '%$productNameOrCode$%')
            </isNotEmpty>
        </isNotNull>

        <isNotNull property="shopCode">
            <isNotEmpty prepend="and" property="shopCode">
                tt.SHOP_CODE = #shopCode:VARCHAR#
            </isNotEmpty>
        </isNotNull>


        <isNotNull property="productSkuCode">
            <isNotEmpty prepend="and" property="productSkuCode">
                tt.PRODUCT_SKU_CODE like '%$productSkuCode$%'
            </isNotEmpty>
        </isNotNull>
        )
        <![CDATA[tt1 where view_row_number <= #endIndex# and view_row_number > #startIndex# ]]>
        <isNotNull property="upTime">
            order by UP_TIME desc
        </isNotNull>
    </select>
    <!-- 通过多条件查询统计窗口数据总条数 -->
    <select id="abatorgenerated_countByViewProductInfo"
            parameterClass="com.pltfm.app.vobject.ViewProductInfo" resultClass="java.lang.Integer">
        select count(*) from VIEW_PRODUCT_INFO tt
        <dynamic prepend="where">


            <isNotNull property="productId">
                <isNotEmpty prepend="and" property="productId">
                    tt.PRODUCT_ID = #productId:INTEGER#
                </isNotEmpty>
            </isNotNull>

            <isNotNull property="productSkuId">
                <isNotEmpty prepend="and" property="productSkuId">
                    tt.PRODUCT_SKU_ID = #productSkuId:INTEGER#
                </isNotEmpty>
            </isNotNull>

            <isNotNull property="categoryId">
                <isNotEmpty prepend="and" property="categoryId">
                    tt.CATEGORY_ID = #categoryId:INTEGER#
                </isNotEmpty>
            </isNotNull>

            <isNotNull property="brandId">
                <isNotEmpty prepend="and" property="brandId">
                    tt.BRAND_ID = #brandId:INTEGER#
                </isNotEmpty>
            </isNotNull>

            <isNotNull property="procuctName">
                <isNotEmpty prepend="and" property="procuctName">
                    tt.PROCUCT_NAME like '%$procuctName$%'
                </isNotEmpty>
            </isNotNull>

            <isNotNull property="shopCode">
                <isNotEmpty prepend="and" property="shopCode">
                    tt.SHOP_CODE = #shopCode:VARCHAR#
                </isNotEmpty>
            </isNotNull>

            <isNotNull property="productSkuCode">
                <isNotEmpty prepend="and" property="productSkuCode">
                    tt.PRODUCT_SKU_CODE like '%$productSkuCode$%'
                </isNotEmpty>
            </isNotNull>
        </dynamic>
    </select>
    <!-- 通过多条件查询统计窗口数据总条数 -->
    <select id="abatorgenerated_countByViewProductInfo1"
            parameterClass="com.pltfm.app.vobject.ViewProductInfo" resultClass="java.lang.Integer">
        <!--  select count(*) from  VIEW_PRODUCT_INFO tt,SHOP_PRODUCT_CATEGORY sh where tt.PRODUCT_ID=sh.product_id-->

        <!--  	select count(*) from VIEW_PRODUCT_INFO tt where product_id in (select product_id from SHOP_PRODUCT_CATEGORY where shop_category_id in
     (select shop_category_id from shop_categorys  start with shop_category_id=#shopCategoryId:INTEGER# connect by prior shop_category_id=parent_Category_id )
    ) -->


        select count(*) from (select * from VIEW_PRODUCT_INFO tt where tt.product_id in (select
        product_id
        from SHOP_PRODUCT_CATEGORY
        where shop_category_id in
        (select shop_category_id
        from shop_categorys
        start with shop_category_id = #shopCategoryId:INTEGER#
        connect by prior shop_category_id = parent_Category_id))


        <isNotNull property="productId">
            <isNotEmpty prepend="and" property="productId">
                tt.PRODUCT_ID = #productId:INTEGER#
            </isNotEmpty>
        </isNotNull>

        <isNotNull property="productSkuId">
            <isNotEmpty prepend="and" property="productSkuId">
                tt.PRODUCT_SKU_ID = #productSkuId:INTEGER#
            </isNotEmpty>
        </isNotNull>

        <!--  <isNotNull property="shopCategoryId">
             <isNotEmpty prepend="and" property="shopCategoryId">
               sh.shop_category_id= #shopCategoryId:INTEGER#
             </isNotEmpty>
         </isNotNull> -->

        <isNotNull property="productNameOrCode">
            <isNotEmpty prepend="and" property="productNameOrCode">
                (tt.PRODUCT_SKU_CODE like '%$productNameOrCode$%' or tt.PROCUCT_NAME like
                '%$productNameOrCode$%')
            </isNotEmpty>
        </isNotNull>

        <isNotNull property="shopCode">
            <isNotEmpty prepend="and" property="shopCode">
                tt.SHOP_CODE = #shopCode:VARCHAR#
            </isNotEmpty>
        </isNotNull>

        <isNotNull property="productSkuCode">
            <isNotEmpty prepend="and" property="productSkuCode">
                tt.PRODUCT_SKU_CODE like '%$productSkuCode$%'
            </isNotEmpty>
        </isNotNull>

        )tt1, (select s.product_id,s.shop_category_id from SHOP_PRODUCT_CATEGORY s
        where shop_category_id in
        (select shop_category_id
        from shop_categorys
        start with shop_category_id = #shopCategoryId:INTEGER#
        connect by prior shop_category_id = parent_Category_id))tt2 where
        tt1.product_id=tt2.product_id
    </select>
    <!-- 通过多条件查询统计窗口数据总条数 -->
    <select id="abatorgenerated_countByViewProductInfoTwo"
            parameterClass="com.pltfm.app.vobject.ViewProductInfo" resultClass="java.lang.Integer">
        select count(*) from VIEW_PRODUCT_INFO tt where 1=1


        <isNotNull property="productId">
            <isNotEmpty prepend="and" property="productId">
                tt.PRODUCT_ID = #productId:INTEGER#
            </isNotEmpty>
        </isNotNull>

        <isNotNull property="productSkuId">
            <isNotEmpty prepend="and" property="productSkuId">
                tt.PRODUCT_SKU_ID = #productSkuId:INTEGER#
            </isNotEmpty>
        </isNotNull>

        <isNotNull property="shopCategoryId">
            <isNotEmpty prepend="and" property="shopCategoryId">
                sh.shop_category_id= #shopCategoryId:INTEGER#
            </isNotEmpty>
        </isNotNull>

        <isNotNull property="productNameOrCode">
            <isNotEmpty prepend="and" property="productNameOrCode">
                (tt.PRODUCT_SKU_CODE like '%$productNameOrCode$%' or tt.PROCUCT_NAME like
                '%$productNameOrCode$%')
            </isNotEmpty>
        </isNotNull>

        <isNotNull property="shopCode">
            <isNotEmpty prepend="and" property="shopCode">
                tt.SHOP_CODE = #shopCode:VARCHAR#
            </isNotEmpty>
        </isNotNull>

        <isNotNull property="productSkuCode">
            <isNotEmpty prepend="and" property="productSkuCode">
                tt.PRODUCT_SKU_CODE like '%$productSkuCode$%'
            </isNotEmpty>
        </isNotNull>
    </select>
    <!-- 根据活动ID查询查询该活动的商品 -->
    <select id="abatorgenerated_selProByPromotionId"
            resultMap="abatorgenerated_ViewProductInfoResult"
            parameterClass="com.pltfm.app.vobject.ViewProductInfo">
  select * from 
   view_product_info p where p.product_sku_id in (
       select pi.sku_id from
          promotion_product pd join view_product_detail_info sku on pd.product_sku_id=sku.product_sku_id
          join view_product_info p on p.product_id = sku.product_id 
          join product_image pi on pi.sku_id = pd.product_sku_id
          where pd.promotion_id =#promotionId# group by pi.sku_id having count(pi.sku_id)>0)
  </select>

    <select id="abatorgenerated_selProByViewProductInfo" resultMap="abatorgenerated_PromotionResult"
            parameterClass="com.pltfm.app.vobject.ViewProductInfo">
        <!-- select * from view_product_sku p , product_image pi where p.product_sku_id=pi.sku_id
        and pi.is_default=0 -->
        select pm.product_id
        ,pm.procuct_name
        ,pm.product_no
        ,pm.category_name
        ,pm.brand_name
        ,sku.product_sku_id
        ,sku.price
        ,sku.mark_price
        ,i.*
        from PRODUCT_SKU sku
        inner join PRODUCTMAIN pm on pm.PRODUCT_ID = sku.PRODUCT_ID
        left join product_image i on i.sku_id = sku.product_sku_id
        where pm.STATUS = 3 and sku.STATUS=1 and i.is_default = 0
        <isNotEmpty property="categoryId">
            <isNotNull prepend="and" property="productFilterSql">
                pm.category_id in $productFilterSql$
            </isNotNull>
        </isNotEmpty>
        <isNotEmpty property="brandId">
            <isNotNull prepend="and" property="productFilterSql">
                pm.brand_id in $productFilterSql$
            </isNotNull>
        </isNotEmpty>
        <isNotEmpty property="shopCode">
            <isNotNull prepend="and" property="shopCode">
                pm.shop_code in $shopCode$
            </isNotNull>
        </isNotEmpty>
    </select>
    <!-- 查询活动产品类目 -->
    <select id="abatorgenerated_getCategory" parameterClass="com.pltfm.app.vobject.ViewProductInfo"
            resultClass="java.lang.String">
  	select distinct vv.category_name 
    from view_product_sku vv , promotion_product pp
  where pp.product_sku_id= vv.product_sku_id 
  and pp.promotion_id=#promotionId#
  </select>
    <!-- 查询类目下的产品 -->
    <select id="abatorgenerated_getCategoryProducts"
            resultMap="abatorgenerated_ViewProductSkuResult"
            parameterClass="com.pltfm.app.vobject.ViewProductInfo">
        select vv.*
        from view_product_sku vv , promotion_product pp,product_image im
        where pp.product_sku_id= vv.product_sku_id and im.sku_id=pp.product_sku_id
        and im.is_default=0 and vv.sku_status=1 and vv.status=3 and pp.promotion_id=#promotionId#
        <isNotNull property="category">
            <isNotEmpty prepend="and" property="category">
                vv.category_name=#category#
            </isNotEmpty>
        </isNotNull>
        <isNull property="category">
            <isEmpty prepend="and" property="category">
                vv.category_name is null
            </isEmpty>
        </isNull>
    </select>
    <!--根据SKU查询产品的规格 -->
    <select id="abatorgenerated_getCategoryValueBySKU" resultClass="java.lang.String"
            parameterClass="java.lang.Integer">
  	select CATEGORY_ATTR_VALUE
      from VIEW_SKU_ATTR where PRODUCT_SKU_ID = #productSkuId#
  </select>


    <!--根据SKU查询产品Id和SKUCODE -->
    <select id="abatorgenerated_queryByProductSku" resultMap="ibatorgenerated_ProductResult"
            parameterClass="java.lang.Integer">
  	select product_id,product_sku_code from PRODUCT_SKU where product_sku_id = #productSkuId#
  </select>

    <select id="abatorgenerated_selProByIdsOrSkuId"
            resultMap="abatorgenerated_ViewProductInfoResult"
            parameterClass="com.pltfm.app.vobject.ViewProductInfo">
        select PRODUCT_ID, CATEGORY_ID, CATEGORY_NAME, PROCUCT_NAME, PRODUCT_TITLE, KEYWORD,
        PRODUCTHOT, PRODUCT_SUBTITLE,
        SHOP_CODE,  MARKET_PRICE, PRODUCT_NO, BRAND_ID, BRAND_NAME, APPROVAL_TYPE,
        APPROVAL_NO,PRODUCT_SKU_ID, PRODUCT_SKU_CODE,
        PRICE,UP_TIME,INTRODUCE,WAREHOUSE_NAME,SKU_INTRODUCE,BRAND_INTRODUCE,NUM,POINT,SKUDESC,PV_VALUE,IMG_PATH7,IMG_PATH8,IMG_PATH5
        from VIEW_PRODUCT_INFO tt
        where tt.PRODUCT_ID in
        <iterate open="(" close=")" conjunction="," property="productIds">
            #productIds[]#
        </iterate>

        <isNotNull property="productSkuIds">

            and tt.PRODUCT_SKU_ID in
            <iterate open="(" close=")" conjunction="," property="productSkuIds">
                #productSkuIds[]#
            </iterate>


        </isNotNull>
        <isNotNull property="productSkuIdSort">
            order by decode ( tt.PRODUCT_SKU_ID ,
            <iterate close=")" conjunction="," property="productSkuIdSort">
                #productSkuIdSort[]#
            </iterate>

        </isNotNull>
    </select>

    <!-- 根据Id和SkuId查询单个产品 -->
    <select id="abatorgenerated_selProByIdsAndSkuId"
            resultMap="abatorgenerated_ViewProductInfoResult"
            parameterClass="com.pltfm.app.vobject.ViewProductInfo">

        select PRODUCT_ID, CATEGORY_ID, CATEGORY_NAME, PROCUCT_NAME, PRODUCT_TITLE, KEYWORD,
        PRODUCTHOT, PRODUCT_SUBTITLE,
        SHOP_CODE,  MARKET_PRICE, PRODUCT_NO, BRAND_ID, BRAND_NAME, APPROVAL_TYPE,
        APPROVAL_NO,PRODUCT_SKU_ID, PRODUCT_SKU_CODE,
        PRICE,UP_TIME,INTRODUCE,WAREHOUSE_NAME,SKU_INTRODUCE,BRAND_INTRODUCE,NUM,POINT,SKUDESC,PV_VALUE,IMG_PATH7,IMG_PATH8,IMG_PATH5
        from VIEW_PRODUCT_INFO tt
        <dynamic prepend="where">

            <isNotNull property="productId">
                <isNotEmpty prepend="and" property="productId">
                    tt.PRODUCT_ID = #productId:INTEGER#
                </isNotEmpty>
            </isNotNull>

            <isNotNull property="productSkuId">
                <isNotEmpty prepend="and" property="productSkuId">
                    tt.PRODUCT_SKU_ID = #productSkuId:INTEGER#
                </isNotEmpty>
            </isNotNull>

        </dynamic>
    </select>


    <!-- 根据Id和SkuId查询单个产品 -->
    <select id="abatorgenerated_selProBySkuId" resultMap="abatorgenerated_ViewProductResult"
            parameterClass="com.pltfm.app.vobject.ViewProductInfo">
        select PRODUCT_ID, CATEGORY_ID,b_category_id,m_category_id, CATEGORY_NAME, PROCUCT_NAME,
        PRODUCT_TITLE,PRODUCT_SUBTITLE,KEYWORD, PRODUCTHOT,
        SHOP_CODE,  MARKET_PRICE, PRODUCT_NO, BRAND_ID, BRAND_NAME, APPROVAL_TYPE,
        APPROVAL_NO,PRODUCT_SKU_ID, PRODUCT_SKU_CODE, PRICE,UP_TIME,INTRODUCE,PRODUCT_DESC,
        WAREHOUSE_NAME,SKU_INTRODUCE,BRAND_INTRODUCE,SHOPNAME,SUPPLIERID,COMMERCIALTENANTID,SHOPID,PRODUCT_TYPE,NUM,POINT,SKUDESC
        ,PV_VALUE,COST_INCOME_RATIO
        ,free_status,freight
        from VIEW_PRODUCT_INFO_PUBLISH
        <dynamic prepend="where">
            <isNotNull property="productId">
                <isNotEmpty prepend="and" property="productId">
                    PRODUCT_ID = #productId:INTEGER#
                </isNotEmpty>
            </isNotNull>

            <isNotNull property="productSkuId">
                <isNotEmpty prepend="and" property="productSkuId">
                    PRODUCT_SKU_ID = #productSkuId:INTEGER#
                </isNotEmpty>
            </isNotNull>

        </dynamic>
    </select>
    <!-- 分页查询窗口和产品数据列表信息 -->
    <select id="recommend_pageByViewProductInfo" resultMap="cmsWindowData_ViewProductInfoResult"
            parameterClass="com.pltfm.app.vobject.ViewProductInfo">
        select PRODUCT_ID, CATEGORY_ID, CATEGORY_NAME, PROCUCT_NAME, PRODUCT_TITLE, KEYWORD,
        PRODUCTHOT,PRODUCT_SUBTITLE,
        SHOP_CODE,  MARKET_PRICE, PRODUCT_NO, BRAND_ID, BRAND_NAME, APPROVAL_TYPE,
        APPROVAL_NO,cmsWin1.PRODUCT_SKU_ID, PRODUCT_SKU_CODE,
        PRICE,UP_TIME,INTRODUCE,WAREHOUSE_NAME,SKU_INTRODUCE,BRAND_INTRODUCE,NUM,POINT,SKUDESC,
        cmsWin1.Window_Data_Id,
        cmsWin1.Window_Id,cmsWin1.Sort,cmsWin1.USER_DEFINED_NAME
        FROM VIEW_PRODUCT_INFO tt ,CMS_WINDOW_DATA cmsWin1 where
        cmsWin1.Product_Sku_Id=tt.product_sku_id

        <isNotNull property="windowId">
            <isNotEmpty prepend="and" property="windowId">
                cmsWin1.Window_Id = #windowId:INTEGER#
            </isNotEmpty>
        </isNotNull>

        <isNotNull property="productId">
            <isNotEmpty prepend="and" property="productId">
                tt.PRODUCT_ID = #productId:INTEGER#
            </isNotEmpty>
        </isNotNull>

        <isNotNull property="productSkuId">
            <isNotEmpty prepend="and" property="productSkuId">
                tt.PRODUCT_SKU_ID = #productSkuId:INTEGER#
            </isNotEmpty>
        </isNotNull>

        <isNotNull property="categoryId">
            <isNotEmpty prepend="and" property="categoryId">
                tt.CATEGORY_ID = #categoryId:INTEGER#
            </isNotEmpty>
        </isNotNull>

        <isNotNull property="brandId">
            <isNotEmpty prepend="and" property="brandId">
                tt.BRAND_ID = #brandId:INTEGER#
            </isNotEmpty>
        </isNotNull>

        <isNotNull property="procuctName">
            <isNotEmpty prepend="and" property="procuctName">
                tt.PROCUCT_NAME like '%$procuctName$%'
            </isNotEmpty>
        </isNotNull>

        <isNotNull property="shopCode">
            <isNotEmpty prepend="and" property="shopCode">
                tt.SHOP_CODE = #shopCode:VARCHAR#
            </isNotEmpty>
        </isNotNull>


        <isNotNull property="productSkuCode">
            <isNotEmpty prepend="and" property="productSkuCode">
                tt.PRODUCT_SKU_CODE like '%$productSkuCode$%'
            </isNotEmpty>
        </isNotNull>
        order by SORT asc
    </select>

    <!-- 通过多条件查询统计窗口数据总条数 -->
    <select id="recommend_countByViewProductInfo"
            parameterClass="com.pltfm.app.vobject.ViewProductInfo" resultClass="java.lang.Integer">
        select count(*) from CMS_WINDOW_DATA s1 ,VIEW_PRODUCT_INFO tt where 1=1 AND
        s1.product_sku_id=tt.product_sku_id
        <isNotNull property="windowId">
            <isNotEmpty prepend="and" property="windowId">
                s1.Window_Id = #windowId:INTEGER#
            </isNotEmpty>
        </isNotNull>
    </select>

    <!-- 查询活动商品 -->
    <select id="abatorgenerated_queryByViewPromotionId" parameterClass="java.util.List"
            resultClass="java.util.HashMap">
        SELECT t.PRODUCT_ID "productId",
        t.PRODUCT_SKU_ID "productSkuId",
        t.PROCUCT_NAME "productName",
        t.CATEGORY_NAME "categoryName",
        t.BRAND_NAME "brandName",
        t.PRODUCT_SKU_CODE "productSkuCode",
        t.PRICE "price"
        FROM VIEW_PRODUCT_INFO t
        WHERE t.PRODUCT_SKU_ID in
        (SELECT pp.PRODUCT_SKU_ID
        FROM PROMOTION_PRODUCT pp, PROMOTION p
        WHERE pp.PROMOTION_ID = p.PROMOTION_ID
        and p.PROMOTION_ID in
        <iterate open="(" close=")" conjunction=",">
            #promotionIds[]#
        </iterate>
        )
    </select>
</sqlMap>