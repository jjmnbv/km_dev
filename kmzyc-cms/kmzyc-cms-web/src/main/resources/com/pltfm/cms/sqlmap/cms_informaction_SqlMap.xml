<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="CMS_INFORMATION" >
  <resultMap id="abatorgenerated_CmsInformationResult" class="com.pltfm.cms.vobject.CmsInformation" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Wed Sep 11 09:42:35 CST 2013.
    -->
    <result column="INFOR_ID" property="inforId" jdbcType="DECIMAL" />
    <result column="SITE_ID" property="siteId" jdbcType="DECIMAL" />
    <result column="TYPE_ID" property="typeId" jdbcType="DECIMAL" />
    <result column="NAME" property="name" jdbcType="VARCHAR" />
    <result column="CONTENT" property="content" jdbcType="VARCHAR" />
    <result column="TITLE" property="title" jdbcType="VARCHAR" />
    <result column="KEY" property="key" jdbcType="VARCHAR" />
    <result column="DESCRIPTION" property="description" jdbcType="VARCHAR" />
    <result column="STATUS" property="status" jdbcType="DECIMAL" />
    <result column="TEMPLATETYPE" property="templateType" jdbcType="DECIMAL" />
    <result column="CREATE_DATE" property="createDate" jdbcType="Date" />
    <result column="CREATED" property="created" jdbcType="DECIMAL" />
    <result column="MODIFY_DATE" property="modifyDate" jdbcType="Date" />
    <result column="MODIFIED" property="modified" jdbcType="DECIMAL" />
    <result column="ORDERS" property="orders" jdbcType="DECIMAL" />
     <result column="PUBLISH_DATE" property="publishDate" jdbcType="Date" />
         <result column="IMG_UPLOADING" property="ImgUploading" jdbcType="VARCHAR" />
    
    
  </resultMap>
  
    <resultMap id="abatorgenerated_CmsInformationResult1" class="com.pltfm.cms.vobject.CmsInformation" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Wed Sep 11 09:42:35 CST 2013.
    -->
    <result column="INFOR_ID" property="inforId" jdbcType="DECIMAL" />
    <result column="SITE_ID" property="siteId" jdbcType="DECIMAL" />
    <result column="TYPE_ID" property="typeId" jdbcType="DECIMAL" />
    <result column="NAME" property="name" jdbcType="VARCHAR" />
    <result column="CONTENT" property="content" jdbcType="VARCHAR" />
    <result column="TITLE" property="title" jdbcType="VARCHAR" />
    <result column="KEY" property="key" jdbcType="VARCHAR" />
    <result column="DESCRIPTION" property="description" jdbcType="VARCHAR" />
    <result column="STATUS" property="status" jdbcType="DECIMAL" />
    <result column="TEMPLATETYPE" property="templateType" jdbcType="DECIMAL" />
    <result column="CREATE_DATE" property="createDate" jdbcType="Date" />
    <result column="CREATED" property="created" jdbcType="DECIMAL" />
    <result column="MODIFY_DATE" property="modifyDate" jdbcType="Date" />
    <result column="MODIFIED" property="modified" jdbcType="DECIMAL" />
    <result column="ORDERS" property="orders" jdbcType="DECIMAL" />
    <result column="INFORNAME" property="inforname" jdbcType="VARCHAR" />
    <result column="CONTENT_CSS" property="contentCss" jdbcType="VARCHAR" />
    <result column="CONTENT_JS" property="contentJs" jdbcType="VARCHAR" />
         <result column="PUBLISH_DATE" property="publishDate" jdbcType="Date" />
         <result column="IMG_UPLOADING" property="ImgUploading" jdbcType="VARCHAR" />
  </resultMap>
  
  
  <resultMap id="abatorgenerated_CmsInformationResults" class="com.pltfm.cms.vobject.CmsInformation" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Wed Sep 11 09:42:35 CST 2013.
    -->
    <result column="INFOR_ID" property="inforId" jdbcType="DECIMAL" />
    <result column="SITE_ID" property="siteId" jdbcType="DECIMAL" />
    <result column="TYPE_ID" property="typeId" jdbcType="DECIMAL" />
    <result column="NAME" property="name" jdbcType="VARCHAR" />
    <result column="CONTENT" property="content" jdbcType="VARCHAR" />
    <result column="TITLE" property="title" jdbcType="VARCHAR" />
    <result column="KEY" property="key" jdbcType="VARCHAR" />
    <result column="DESCRIPTION" property="description" jdbcType="VARCHAR" />
    <result column="STATUS" property="status" jdbcType="DECIMAL" />
    <result column="TEMPLATETYPE" property="templateType" jdbcType="DECIMAL" />
    <result column="CREATE_DATE" property="createDate" jdbcType="Date" />
    <result column="CREATED" property="created" jdbcType="DECIMAL" />
    <result column="MODIFY_DATE" property="modifyDate" jdbcType="Date" />
    <result column="MODIFIED" property="modified" jdbcType="DECIMAL" />
    <result column="ORDERS" property="orders" jdbcType="DECIMAL" />
    <result column="INFORNAME" property="inforname" jdbcType="VARCHAR" />
         <result column="PUBLISH_DATE" property="publishDate" jdbcType="Date" />
         <result column="IMG_UPLOADING" property="ImgUploading" jdbcType="VARCHAR" />
   
    
  </resultMap>
  <sql id="abatorgenerated_Example_Where_Clause" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Wed Sep 11 09:42:35 CST 2013.
    -->
    <iterate property="oredCriteria" conjunction="or" prepend="where" removeFirstPrepend="iterate" >
      <isEqual property="oredCriteria[].valid" compareValue="true" >
        (
        <iterate prepend="and" property="oredCriteria[].criteriaWithoutValue" conjunction="and" >
          $oredCriteria[].criteriaWithoutValue[]$
        </iterate>
        <iterate prepend="and" property="oredCriteria[].criteriaWithSingleValue" conjunction="and" >
          $oredCriteria[].criteriaWithSingleValue[].condition$
            #oredCriteria[].criteriaWithSingleValue[].value#
        </iterate>
        <iterate prepend="and" property="oredCriteria[].criteriaWithListValue" conjunction="and" >
          $oredCriteria[].criteriaWithListValue[].condition$
          <iterate property="oredCriteria[].criteriaWithListValue[].values" open="(" close=")" conjunction="," >
            #oredCriteria[].criteriaWithListValue[].values[]#
          </iterate>
        </iterate>
        <iterate prepend="and" property="oredCriteria[].criteriaWithBetweenValue" conjunction="and" >
          $oredCriteria[].criteriaWithBetweenValue[].condition$
          #oredCriteria[].criteriaWithBetweenValue[].values[0]# and
          #oredCriteria[].criteriaWithBetweenValue[].values[1]#
        </iterate>
        )
      </isEqual>
    </iterate>
  </sql>
  <select id="abatorgenerated_selectByPrimaryKey" resultMap="abatorgenerated_CmsInformationResult1" parameterClass="com.pltfm.cms.vobject.CmsInformation" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Wed Sep 11 09:42:35 CST 2013.
    -->
    select b.name INFORNAME,s.INFOR_ID, s.TYPE_ID, s.NAME, s.CONTENT, s.TITLE, s.KEY, s.DESCRIPTION, s.STATUS,s.TEMPLATETYPE,s.CREATE_DATE, s.CREATED,
      s.MODIFY_DATE, s.MODIFIED, s.ORDERS,s.SITE_ID,s.CONTENT_CSS,s.CONTENT_JS,s.PUBLISH_DATE,s.IMG_UPLOADING
    from CMS_INFORMATION s,CMS_INFORMATION_TYPE b
    where b.id(+)=s.TYPE_ID and INFOR_ID(+) = #inforId:DECIMAL#
  </select>
  <select id="abatorgenerated_selectByExample" resultMap="abatorgenerated_CmsInformationResult" parameterClass="com.pltfm.cms.vobject.CmsInformationExample" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Wed Sep 11 09:42:35 CST 2013.
    -->
    select INFOR_ID, TYPE_ID, NAME, CONTENT, TITLE, KEY, DESCRIPTION, STATUS,TEMPLATETYPE,CREATE_DATE, CREATED,
      MODIFY_DATE, MODIFIED, ORDERS,PUBLISH_DATE,IMG_UPLOADING ,SITE_ID 
    from CMS_INFORMATION
    <isParameterPresent >
      <include refid="CMS_INFORMATION.abatorgenerated_Example_Where_Clause" />
      <isNotNull property="orderByClause" >
        order by $orderByClause$
      </isNotNull>
    </isParameterPresent>
  </select>
  <delete id="abatorgenerated_deleteByPrimaryKey" parameterClass="com.pltfm.cms.vobject.CmsInformation" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Wed Sep 11 09:42:35 CST 2013.
    -->
    delete from CMS_INFORMATION
    where INFOR_ID = #inforId:DECIMAL#
  </delete>
  <delete id="abatorgenerated_deleteByExample" parameterClass="com.pltfm.cms.vobject.CmsInformationExample" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Wed Sep 11 09:42:35 CST 2013.
    -->
    delete from CMS_INFORMATION
    <include refid="CMS_INFORMATION.abatorgenerated_Example_Where_Clause" />
  </delete>
  <insert id="abatorgenerated_insert" parameterClass="com.pltfm.cms.vobject.CmsInformation" >
     <selectKey resultClass="java.lang.Integer" keyProperty="inforId" >
           select seq_app_cms.nextval from dual
      </selectKey>
    insert into CMS_INFORMATION (INFOR_ID, TYPE_ID,NAME, CONTENT, TITLE, KEY, DESCRIPTION, STATUS,TEMPLATETYPE,SITE_ID,
      CREATE_DATE, CREATED, MODIFY_DATE, MODIFIED, ORDERS,CONTENT_CSS,CONTENT_JS,IMG_UPLOADING)
    values (#inforId:DECIMAL#, #typeId:DECIMAL#, #name:VARCHAR#, #content:VARCHAR#, #title:VARCHAR#,
      #key:VARCHAR#, #description:VARCHAR#, #status:DECIMAL#,#templateType:DECIMAL#,#siteId#,#createDate:Date#, #created:DECIMAL#,
      #modifyDate:Date#, #modified:DECIMAL#, #orders:DECIMAL#, #contentCss:VARCHAR#, #contentJs:VARCHAR#, #ImgUploading:VARCHAR#)
  </insert>
  <update id="abatorgenerated_updateByPrimaryKey" parameterClass="com.pltfm.cms.vobject.CmsInformation" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Wed Sep 11 09:42:35 CST 2013.
    -->
    update CMS_INFORMATION
    set TYPE_ID = #typeId:DECIMAL#,
      NAME = #name:VARCHAR#,
      CONTENT = #content:VARCHAR#,
      TITLE = #title:VARCHAR#,
      KEY = #key:VARCHAR#,
      DESCRIPTION = #description:VARCHAR#,
      STATUS = #status:DECIMAL#,
      TEMPLATETYPE = #templateType:DECIMAL#,
      CREATE_DATE = #createDate:Date#,
      CREATED = #created:DECIMAL#,
      MODIFY_DATE = #modifyDate:Date#,
      MODIFIED = #modified:DECIMAL#,
      ORDERS = #orders:DECIMAL#,
      CONTENT_JS = #contentJs:VARCHAR#,
      CONTENT_CSS = #contentCss:VARCHAR#,
      IMG_UPLOADING = #ImgUploading:VARCHAR#
      
    where INFOR_ID = #inforId:DECIMAL#
  </update>
  <update id="abatorgenerated_updateByPrimaryKeySelective" parameterClass="com.pltfm.cms.vobject.CmsInformation" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Wed Sep 11 09:42:35 CST 2013.
    -->
    update CMS_INFORMATION
    <dynamic prepend="set" >
      <isNotNull prepend="," property="typeId" >
        TYPE_ID = #typeId:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="name" >
        NAME = #name:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="content" >
        CONTENT = #content:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="title" >
        TITLE = #title:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="key" >
        KEY = #key:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="description" >
        DESCRIPTION = #description:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="status" >
        STATUS = #status:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="templateType" >
        TEMPLATETYPE = #templateType:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="createDate" >
        CREATE_DATE = #createDate:Date#
      </isNotNull>
      <isNotNull prepend="," property="created" >
        CREATED = #created:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="modifyDate" >
        MODIFY_DATE = #modifyDate:Date#
      </isNotNull>
      <isNotNull prepend="," property="modified" >
        MODIFIED = #modified:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="ImgUploading" >
         IMG_UPLOADING = #ImgUploading:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="orders" >
        ORDERS = #orders:DECIMAL#
      </isNotNull>
      
      <isNotNull prepend="," property="contentJs" >
        CONTENT_JS = #contentJs:VARCHAR#
      </isNotNull>
      
      <isNotNull prepend="," property="contentCss" >
         CONTENT_CSS = #contentCss:VARCHAR#
      </isNotNull>
      
        <isNotNull prepend="," property="publishDate" >
         PUBLISH_DATE = #publishDate:Date#
      </isNotNull>
      
      
      

    </dynamic>
    where INFOR_ID = #inforId:DECIMAL#
  </update>
  <select id="abatorgenerated_countByExample" parameterClass="com.pltfm.cms.vobject.CmsInformationExample" resultClass="java.lang.Integer" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Wed Sep 11 09:42:35 CST 2013.
    -->
    select count(*) from CMS_INFORMATION
    <include refid="CMS_INFORMATION.abatorgenerated_Example_Where_Clause" />
  </select>
  <update id="abatorgenerated_updateByExampleSelective" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Wed Sep 11 09:42:35 CST 2013.
    -->
    update CMS_INFORMATION
    <dynamic prepend="set" >
      <isNotNull prepend="," property="record.inforId" >
        INFOR_ID = #record.inforId:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.typeId" >
        TYPE_ID = #record.typeId:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.name" >
        NAME = #record.name:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.content" >
        CONTENT = #record.content:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.title" >
        TITLE = #record.title:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.key" >
        KEY = #record.key:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.description" >
        DESCRIPTION = #record.description:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.status" >
        STATUS = #record.status:DECIMAL#
      </isNotNull>
       <isNotNull prepend="," property="record.templateType" >
        TEMPLATETYPE = #record.templateType:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.createDate" >
        CREATE_DATE = #record.createDate:Date#
      </isNotNull>
      <isNotNull prepend="," property="record.created" >
        CREATED = #record.created:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.modifyDate" >
        MODIFY_DATE = #record.modifyDate:Date#
      </isNotNull>
      <isNotNull prepend="," property="record.modified" >
        MODIFIED = #record.modified:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.orders" >
        ORDERS = #record.orders:DECIMAL#
      </isNotNull>
       <isNotNull prepend="," property="record.contentJs" >
        CONTENT_JS = #record.contentJs:VARCHAR#
      </isNotNull>
      
      <isNotNull prepend="," property="record.contentCss" >
         CONTENT_CSS = #record.contentCss:VARCHAR#
      </isNotNull>
    
    </dynamic>
    <isParameterPresent >
      <include refid="CMS_INFORMATION.abatorgenerated_Example_Where_Clause" />
    </isParameterPresent>
  </update>
  <update id="abatorgenerated_updateByExample" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Wed Sep 11 09:42:35 CST 2013.
    -->
    update CMS_INFORMATION
    set INFOR_ID = #record.inforId:DECIMAL#,
      TYPE_ID = #record.typeId:DECIMAL#,
      NAME = #record.name:VARCHAR#,
      CONTENT = #record.content:VARCHAR#,
      TITLE = #record.title:VARCHAR#,
      KEY = #record.key:VARCHAR#,
      DESCRIPTION = #record.description:VARCHAR#,
      STATUS = #record.status:DECIMAL#,
      TEMPLATETYPE = #record.templateType:DECIMAL#,
      CREATE_DATE = #record.createDate:Date#,
      CREATED = #record.created:DECIMAL#,
      MODIFY_DATE = #record.modifyDate:Date#,
      MODIFIED = #record.modified:DECIMAL#,
      ORDERS = #record.orders:DECIMAL#,
      CONTENT_JS = #record.contentJs:VARCHAR#,
      CONTENT_CSS = #record.contentCss:VARCHAR#
    <isParameterPresent >
      <include refid="CMS_INFORMATION.abatorgenerated_Example_Where_Clause" />
    </isParameterPresent>
  </update>
    <!--  查询 条数 -->
     <select id="abatorgenerated_countByInformation" parameterClass="com.pltfm.cms.vobject.CmsInformation" resultClass="java.lang.Integer" >
	select count(*) from  CMS_INFORMATION  where  templatetype in (3,4,5,6,11,23,24)
		
	          <isNotNull property="name">
		    	and NAME like '%$name$%'
	         </isNotNull>
	         <isNotNull property="typeId">
		     	and TYPE_ID = '$typeId$'
	         </isNotNull>
	         <isNotNull property="content">
				 and   CONTENT like '%$content$%'
			 </isNotNull>
			 <isNotNull property="status">
				 and  STATUS = '$status$'
		      </isNotNull>
			  <isNotNull property="siteId">
				 and SITE_ID = $siteId$
	          </isNotNull>

  </select>
  
    <select id="countByInformation" parameterClass="com.pltfm.cms.vobject.CmsInformation" resultClass="java.lang.Integer" >
	select count(*) from (
		select page.page_id cid,page.name cname,page.output_path coutput,page.site_id from cms_page page union
		select adc.adcolumn_id,adc.name,adc.output,adc.site_id from cms_adcolumn adc union
		select pro.id,pro.name,pro.output,pro.site_id from cms_promotion_task pro union
		select infor.infor_id,infor.name,infor.content,infor.site_id from cms_information infor 
			<dynamic prepend="where">
				<isNotEmpty property="inforId">
					<isNotNull prepend="and" property="inforId">
						INFOR_ID!=#inforId# and CONTENT='$content$'
					</isNotNull>
				</isNotEmpty>
			</dynamic>
		)t
		 <dynamic prepend="where">
	          <isNotNull property="name">
				     <isNotEmpty prepend="and" property="name">
				    	 t.cname = '$name$'
				     </isNotEmpty>
			  </isNotNull>
			  <isNotNull property="content">
				     <isNotEmpty prepend="and" property="content">
				     	t.coutput ='$content$'
				     </isNotEmpty>
			  </isNotNull>
			  <isNotNull property="siteId">
			  		<isNotEmpty prepend="and" property="siteId">
			  			t.site_id = #siteId#
			  		</isNotEmpty>
			  </isNotNull>
		</dynamic>
  </select>
 
 
    <!-- 分页查询广告位数据列表信息 -->
    <select id="abatorgenerated_pageByInformation"  resultMap="abatorgenerated_CmsInformationResults"  parameterClass="com.pltfm.cms.vobject.CmsInformation">
                           
 select s.INFOR_ID,s.SITE_ID,b.name INFORNAME, s.TYPE_ID, s.NAME, '/helps'||s.CONTENT as CONTENT , s.TITLE, s.KEY, s.DESCRIPTION, s.STATUS, s.TEMPLATETYPE,s.CREATE_DATE, s.CREATED,s.MODIFY_DATE, s.MODIFIED, s.ORDERS,s.PUBLISH_DATE,s.IMG_UPLOADING  
 FROM  ( select  ROW_NUMBER() OVER(order by CREATE_DATE desc) as view_row_number, tt.* FROM CMS_INFORMATION tt where  tt.templatetype in (3,4,5,6,11,23,24)
				   
				   <isNotNull property="name">
				     <isNotEmpty prepend="and" property="name">
				     NAME like '%$name$%'
				      </isNotEmpty>
			       </isNotNull>
			       
					<isNotNull property="typeId">
				     <isNotEmpty prepend="and" property="typeId">
				     TYPE_ID = '$typeId$'
				      </isNotEmpty>
			         </isNotNull>
			         
			         
					<isNotNull property="content">
				     <isNotEmpty prepend="and" property="content">
				     CONTENT like '%$content$%'
				      </isNotEmpty>
			         </isNotNull>
			         
			         
					<isNotNull property="status">
				     <isNotEmpty prepend="and" property="status">
				     STATUS = '$status$'
				      </isNotEmpty>
			         </isNotNull>
			         <isNotNull property="siteId">
				     <isNotEmpty prepend="and" property="siteId">
				     SITE_ID = '$siteId$'
				      </isNotEmpty>
			         </isNotNull>
			         
			         order by CREATE_DATE desc 
					
              )s ,cms_information_type b
               <![CDATA[ where  b.id(+)=s.TYPE_ID AND view_row_number <= #endIndex# and view_row_number > #startIndex#   order by CREATE_DATE desc ]]>
    </select>



  <!-- 静态专题页 -->
    <select id="abatorgenerated_queryStaticHolidayList"  resultMap="abatorgenerated_CmsInformationResult"  parameterClass="com.pltfm.cms.vobject.CmsInformation">
                           
 select s.INFOR_ID,s.SITE_ID, s.TYPE_ID, s.NAME, '/topic'||s.CONTENT as CONTENT , s.TITLE, s.KEY, s.DESCRIPTION, s.STATUS, s.TEMPLATETYPE,s.CREATE_DATE, s.CREATED,s.MODIFY_DATE, s.MODIFIED, s.ORDERS ,s.PUBLISH_DATE,s.IMG_UPLOADING 
 FROM  ( select  ROW_NUMBER() OVER(order by INFOR_ID desc) as view_row_number, tt.* FROM CMS_INFORMATION tt where tt.templatetype in (7,8,9,17,18,19,20,21,22)
				    
				   <isNotNull property="name">
				     <isNotEmpty prepend="and" property="name">
				     NAME like '%$name$%'
				      </isNotEmpty>
			       </isNotNull>
			       
					<isNotNull property="templateType">
				     <isNotEmpty prepend="and" property="templateType">
				     TEMPLATETYPE = '$templateType$'
				      </isNotEmpty>
			         </isNotNull>
			         
			         
					<isNotNull property="content">
				     <isNotEmpty prepend="and" property="content">
				     CONTENT like '%$content$%'
				      </isNotEmpty>
			         </isNotNull>
			         
			         
				
			         <isNotNull property="siteId">
				     <isNotEmpty prepend="and" property="siteId">
				     SITE_ID = '$siteId$'
				      </isNotEmpty>
			         </isNotNull>
					
              )s 
               <![CDATA[ where  view_row_number <= #endIndex# and view_row_number > #startIndex# ]]>
    </select>
    
    
        <!--  查询 条数 -->
     <select id="abatorgenerated_queryStaticHolidayCount" parameterClass="com.pltfm.cms.vobject.CmsInformation" resultClass="java.lang.Integer" >
	select count(*) from  CMS_INFORMATION  where  templatetype in (7,8,9,17,18,19,20,21,22)
		 
	          <isNotNull property="name">
		    	and NAME like '%$name$%'
	         </isNotNull>
	       	<isNotNull property="templateType">
				    
				and     TEMPLATETYPE = '$templateType$'
				    
			  </isNotNull>
	         <isNotNull property="content">
				 and   CONTENT like '%$content$%'
			 </isNotNull>
			
			  <isNotNull property="siteId">
				 and SITE_ID = $siteId$
	          </isNotNull>
		
  </select>
   
      <select id="abatorgenerated_ByID"  resultClass="java.lang.Integer" >
         select seq_app_cms.nextval from dual
      </select>
   <select id="abatorgenerated_ByInforId" resultClass="java.lang.Integer"  parameterClass="java.lang.Integer"  >
   SELECT count(*)   FROM  CMS_INFORMATION     WHERE  TYPE_ID = #typeId#
    </select>
     <!-- 名字惟一性 -->
	<select id="abatorgenerated_countInfor" parameterClass="com.pltfm.cms.vobject.CmsInformation" resultClass="java.lang.Integer" >
	select count(*) from  CMS_INFORMATION
	<dynamic prepend="where">
				<isNotNull property="inforId">
					<isNotEmpty prepend="and" property="inforId">
						INFOR_ID!='$inforId$'
					</isNotEmpty>
				</isNotNull>
				<isNotEmpty property="name">
					<isNotNull prepend="and" property="name">
						NAME='$name$' 
					</isNotNull>
				</isNotEmpty>
				<isNotEmpty property="siteId">
					<isNotNull prepend="and" property="siteId">
						SITE_ID='$siteId$' 
					</isNotNull>
				</isNotEmpty>
			</dynamic>
	</select>
	
	<delete id="abatorgenerated_deleteInfoByType" parameterClass="java.lang.String">
	     delete  from CMS_INFORMATION where content like '$path$%'
	</delete>
      
      
</sqlMap>