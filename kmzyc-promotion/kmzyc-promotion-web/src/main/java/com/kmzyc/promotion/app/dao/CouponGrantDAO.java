package com.kmzyc.promotion.app.dao;

import java.sql.SQLException;
import java.util.List;

import com.kmzyc.promotion.app.vobject.CouponGrant;
import com.kmzyc.promotion.app.vobject.CouponGrantExample;

@SuppressWarnings("unchecked")
public interface CouponGrantDAO {

  /**
   * This method was generated by Apache iBATIS ibator. This method corresponds to the database
   * table COUPON_GRANT
   * 
   * @ibatorgenerated Thu Aug 29 15:31:47 CST 2013
   */
  int countByExample(CouponGrantExample example) throws SQLException;

  /**
   * This method was generated by Apache iBATIS ibator. This method corresponds to the database
   * table COUPON_GRANT
   * 
   * @ibatorgenerated Thu Aug 29 15:31:47 CST 2013
   */
  int deleteByExample(CouponGrantExample example) throws SQLException;

  /**
   * This method was generated by Apache iBATIS ibator. This method corresponds to the database
   * table COUPON_GRANT
   * 
   * @ibatorgenerated Thu Aug 29 15:31:47 CST 2013
   */
  void insert(CouponGrant record) throws SQLException;

  /**
   * This method was generated by Apache iBATIS ibator. This method corresponds to the database
   * table COUPON_GRANT
   * 
   * @ibatorgenerated Thu Aug 29 15:31:47 CST 2013
   */
  void insertSelective(CouponGrant record) throws SQLException;

  /**
   * This method was generated by Apache iBATIS ibator. This method corresponds to the database
   * table COUPON_GRANT
   * 
   * @ibatorgenerated Thu Aug 29 15:31:47 CST 2013
   */
  List selectByExample(CouponGrantExample example) throws SQLException;

  /**
   * This method was generated by Apache iBATIS ibator. This method corresponds to the database
   * table COUPON_GRANT
   * 
   * @ibatorgenerated Thu Aug 29 15:31:47 CST 2013
   */
  int updateByExampleSelective(CouponGrant record, CouponGrantExample example) throws SQLException;

  /**
   * This method was generated by Apache iBATIS ibator. This method corresponds to the database
   * table COUPON_GRANT
   * 
   * @ibatorgenerated Thu Aug 29 15:31:47 CST 2013
   */
  int updateByExample(CouponGrant record, CouponGrantExample example) throws SQLException;

  /**
   * 根据客户id，查询所有的客户优惠券信息
   */
  public List<CouponGrant> selectCouponGrantByCoustomId(List<Integer> coustomId)
      throws SQLException;

  public CouponGrant selectGrantRecord(CouponGrant couponGrant) throws SQLException;

  public int updateGrantStauts(CouponGrant coupongrant) throws SQLException;

  /**
   * 根据传入的天数查询有效的在这些天数之内的
   */
  public List<CouponGrant> selectCanUseLeaseDays(int day) throws SQLException;

  /**
   * 发放又返回
   */
  public Long insertGrant(CouponGrant record) throws SQLException;

  public CouponGrant selectCouponById(Long couponGrantId) throws SQLException;

  /**
   * 按条件查询已发放的优惠券记录条数 2014-10-21 maliqun add
   * 
   * @param condition
   * @return
   * @throws SQLException
   */
  public int queryAlreadyGrantCouponCount(CouponGrant condition) throws SQLException;

  /**
   * 按条件查询已发放的优惠券列表 2014-10-21 maliqun add
   * 
   * @param condition
   * @return
   * @throws SQLException
   */
  public List<CouponGrant> queryAlreadyGrantCouponList(CouponGrant condition) throws SQLException;


  /**
   * 根据时间查询过期
   * 
   * @param cg
   * @return
   * @throws SQLException
   */
  public List<CouponGrant> queryCouponGrantTimeOut(CouponGrant cg) throws SQLException;

  public CouponGrant selectCouponGrantById(CouponGrant cg) throws SQLException;

  /**
   * 优惠券激活码验证
   * 
   * @param activeCode
   * @return
   * @throws SQLException
   */
  CouponGrant selectCouponGrantCheck(String activeCode) throws SQLException;

  /**
   * 修改优惠券发放信息
   * 
   * @param couponGrant
   * @return
   * @throws SQLException
   */
  int updateCouponGrant(CouponGrant couponGrant) throws SQLException;

  /**
   * 查未使用优惠券（添加渠道过滤）
   * 
   * @param customId
   * @return
   * @throws SQLException
   */
  public List<CouponGrant> selectCouponGrant(Integer customId) throws SQLException;

  /**
   * 查未使用优惠券及优惠券规则（添加渠道过滤）
   * 
   * @param customId
   * @return
   * @throws SQLException
   */
  public List<CouponGrant> selectCouponGrantAndCoupon(Integer customId) throws SQLException;

  /**
   * 更新未过期的券
   */
  public int updateExpriedCoupon() throws SQLException;

}
