<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="WAREHOUSE_INFO" >
  <resultMap id="ibatorgenerated_BaseResultMap" class="com.pltfm.app.vobject.WarehouseInfo" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Jul 16 09:58:29 CST 2013.
    -->
  <result column="WAREHOUSE_ID" property="warehouseId" jdbcType="LONG" />
    <result column="WAREHOUSE_NO" property="warehouseNo" jdbcType="VARCHAR" />
    <result column="WAREHOUSE_NAME" property="warehouseName" jdbcType="VARCHAR" />
    <result column="MERCHANT_CODE" property="merchantCode" jdbcType="VARCHAR" />
    <result column="AREA_ID" property="areaId" jdbcType="DECIMAL" />
    <result column="TYPE" property="type" jdbcType="DECIMAL" />
    <result column="DEPICT" property="depict" jdbcType="VARCHAR" />
    <result column="OVERLAY_AREA" property="overlayArea" jdbcType="VARCHAR" />
    <result column="STATUS" property="status" jdbcType="CHAR" />
    <result column="CREATE_USER" property="createUser" jdbcType="DECIMAL" />
    <result column="CREATE_DATE" property="createDate" jdbcType="DATE" />
    <result column="REMARK" property="remark" jdbcType="VARCHAR" />
    <result column="CREATE_USER_NAME" property="createUserName" jdbcType="VARCHAR" />
    <result column="OVERLAY_AREA_ID" property="overlayAreaId" jdbcType="VARCHAR" />
    <result column="AREA_NAME" property="areaName" jdbcType="VARCHAR" />
  </resultMap>
  
  <resultMap id="ibatorgenerated_BaseResultMap" class="com.pltfm.app.vobject.WarehouseInfo" >
	<result column="WAREHOUSE_ID" property="warehouseId" jdbcType="LONG" />
	<result column="WAREHOUSE_ID" property="warehouseRelation" select="WAREHOUSE_INFO.getWarehouseRelationById"/>
    <result column="WAREHOUSE_NO" property="warehouseNo" jdbcType="VARCHAR" />
    <result column="WAREHOUSE_NAME" property="warehouseName" jdbcType="VARCHAR" />
    <result column="MERCHANT_CODE" property="merchantCode" jdbcType="VARCHAR" />
    <result column="AREA_ID" property="areaId" jdbcType="DECIMAL" />
    <result column="TYPE" property="type" jdbcType="DECIMAL" />
    <result column="DEPICT" property="depict" jdbcType="VARCHAR" />
    <result column="OVERLAY_AREA" property="overlayArea" jdbcType="VARCHAR" />
    <result column="STATUS" property="status" jdbcType="CHAR" />
    <result column="CREATE_USER" property="createUser" jdbcType="DECIMAL" />
    <result column="CREATE_DATE" property="createDate" jdbcType="DATE" />
    <result column="REMARK" property="remark" jdbcType="VARCHAR" />
    <result column="CREATE_USER_NAME" property="createUserName" jdbcType="VARCHAR" />
    <result column="OVERLAY_AREA_ID" property="overlayAreaId" jdbcType="VARCHAR" />
    <result column="AREA_NAME" property="areaName" jdbcType="VARCHAR" />
  </resultMap>
  
  <resultMap id="WarehouseRelationResult" class="com.pltfm.app.vobject.WarehouseRelation" >
    <result column="WAREHOUSE_RELATION_ID" property="warehouseRelationId" jdbcType="DECIMAL" />
    <result column="WAREHOUSE_ID" property="warehouseId" jdbcType="DECIMAL" />
    <result column="EXTERNAL_WAREHOUSE_CODE" property="externalWarehouseCode" jdbcType="VARCHAR" />
    <result column="SYSTEM_CODE" property="systemCode" jdbcType="VARCHAR" />
    <result column="STATUS" property="status" jdbcType="DECIMAL" />
  </resultMap>
  
  <sql id="ibatorgenerated_Example_Where_Clause" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Jul 16 09:58:29 CST 2013.
    -->
    <iterate property="oredCriteria" conjunction="or" prepend="where" removeFirstPrepend="iterate" >
      <isEqual property="oredCriteria[].valid" compareValue="true" >
        (
        <iterate prepend="and" property="oredCriteria[].criteriaWithoutValue" conjunction="and" >
          $oredCriteria[].criteriaWithoutValue[]$
        </iterate>
        <iterate prepend="and" property="oredCriteria[].criteriaWithSingleValue" conjunction="and" >
          $oredCriteria[].criteriaWithSingleValue[].condition$
            #oredCriteria[].criteriaWithSingleValue[].value#
        </iterate>
        <iterate prepend="and" property="oredCriteria[].criteriaWithListValue" conjunction="and" >
          $oredCriteria[].criteriaWithListValue[].condition$
          <iterate property="oredCriteria[].criteriaWithListValue[].values" open="(" close=")" conjunction="," >
            #oredCriteria[].criteriaWithListValue[].values[]#
          </iterate>
        </iterate>
        <iterate prepend="and" property="oredCriteria[].criteriaWithBetweenValue" conjunction="and" >
          $oredCriteria[].criteriaWithBetweenValue[].condition$
          #oredCriteria[].criteriaWithBetweenValue[].values[0]# and
          #oredCriteria[].criteriaWithBetweenValue[].values[1]#
        </iterate>
        )
      </isEqual>
    </iterate>
  </sql>
  
  	<select id="getWarehouseRelationById" parameterClass="java.lang.Long" resultMap="WarehouseRelationResult">
	 <![CDATA[  
	 	select WAREHOUSE_RELATION_ID, WAREHOUSE_ID, EXTERNAL_WAREHOUSE_CODE, SYSTEM_CODE, STATUS
    		from WAREHOUSE_RELATION where WAREHOUSE_ID = #value# 
	 ]]>
  	</select>
  
  <select id="ibatorgenerated_selectByExample" resultMap="ibatorgenerated_BaseResultMap" parameterClass="com.pltfm.app.vobject.WarehouseInfoExample" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Jul 16 09:58:29 CST 2013.
    -->
    select WAREHOUSE_ID, WAREHOUSE_NO, WAREHOUSE_NAME, MERCHANT_CODE, AREA_ID, TYPE, DEPICT,
      OVERLAY_AREA, STATUS, CREATE_USER, CREATE_DATE, REMARK, CREATE_USER_NAME ,OVERLAY_AREA_ID,AREA_NAME  
    from WAREHOUSE_INFO
    <isParameterPresent >
      <include refid="WAREHOUSE_INFO.ibatorgenerated_Example_Where_Clause" />
      <isNotNull property="orderByClause" >
        order by $orderByClause$
      </isNotNull>
    </isParameterPresent>
  </select>
  <select id="ibatorgenerated_selectByPrimaryKey" resultMap="ibatorgenerated_BaseResultMap" parameterClass="com.pltfm.app.vobject.WarehouseInfo" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Jul 16 09:58:29 CST 2013.
    -->
    select WAREHOUSE_ID, WAREHOUSE_NO, WAREHOUSE_NAME, MERCHANT_CODE, AREA_ID, TYPE, DEPICT,
      OVERLAY_AREA, STATUS, CREATE_USER, CREATE_DATE, REMARK, CREATE_USER_NAME ,OVERLAY_AREA_ID,AREA_NAME 
    from WAREHOUSE_INFO
    where WAREHOUSE_ID = #warehouseId:DECIMAL#
  </select>
  <delete id="ibatorgenerated_deleteByPrimaryKey" parameterClass="com.pltfm.app.vobject.WarehouseInfo" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Jul 16 09:58:29 CST 2013.
    -->
    delete from WAREHOUSE_INFO
    where WAREHOUSE_ID = #warehouseId:DECIMAL#
  </delete>
  <delete id="ibatorgenerated_deleteByExample" parameterClass="com.pltfm.app.vobject.WarehouseInfoExample" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Jul 16 09:58:29 CST 2013.
    -->
    delete from WAREHOUSE_INFO
    <include refid="WAREHOUSE_INFO.ibatorgenerated_Example_Where_Clause" />
  </delete>
  <insert id="ibatorgenerated_insert" parameterClass="com.pltfm.app.vobject.WarehouseInfo">
    <selectKey resultClass="java.lang.Long" keyProperty="warehouseId" >
      select SEQ_APP_PRODUCTSTOCK.nextval from dual
    </selectKey>
    insert into WAREHOUSE_INFO (WAREHOUSE_ID, WAREHOUSE_NO, WAREHOUSE_NAME, MERCHANT_CODE,
      AREA_ID, TYPE, DEPICT, OVERLAY_AREA, STATUS, CREATE_USER, CREATE_DATE, REMARK, CREATE_USER_NAME,OVERLAY_AREA_ID,AREA_NAME )
    values (#warehouseId:DECIMAL#, #warehouseNo:VARCHAR#, #warehouseName:VARCHAR#,
      #merchantCode:VARCHAR#, #areaId:INTEGER#, #type:INTEGER#, #depict:VARCHAR#,
      #overlayArea:VARCHAR#, #status:CHAR#, #createUser:INTEGER#, #createDate:Date#,
      #remark:VARCHAR#,#createUserName:VARCHAR#,#overlayAreaId:VARCHAR#,#areaName:VARCHAR#)
  </insert>
  <insert id="ibatorgenerated_insertSelective" parameterClass="com.pltfm.app.vobject.WarehouseInfo" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Jul 16 09:58:29 CST 2013.
    -->
    insert into WAREHOUSE_INFO
    <dynamic prepend="(" >
      <isNotNull prepend="," property="warehouseId" >
        WAREHOUSE_ID
      </isNotNull>
      <isNotNull prepend="," property="warehouseNo" >
        WAREHOUSE_NO
      </isNotNull>
      <isNotNull prepend="," property="warehouseName" >
        WAREHOUSE_NAME
      </isNotNull>
      <isNotNull prepend="," property="merchantCode" >
        MERCHANT_CODE
      </isNotNull>
      <isNotNull prepend="," property="areaId" >
        AREA_ID
      </isNotNull>
      <isNotNull prepend="," property="type" >
        TYPE
      </isNotNull>
      <isNotNull prepend="," property="depict" >
        DEPICT
      </isNotNull>
      <isNotNull prepend="," property="overlayArea" >
        OVERLAY_AREA
      </isNotNull>
      <isNotNull prepend="," property="status" >
        STATUS
      </isNotNull>
      <isNotNull prepend="," property="createUser" >
        CREATE_USER
      </isNotNull>
      <isNotNull prepend="," property="createDate" >
        CREATE_DATE
      </isNotNull>
      <isNotNull prepend="," property="remark" >
        REMARK
      </isNotNull>
      <isNotNull prepend="," property="createUserName" >
        CREATE_USER_NAME
      </isNotNull>
      <isNotNull prepend="," property="overlayAreaId" >
        OVERLAY_AREA_ID
      </isNotNull>
      <isNotNull prepend="," property="areaName" >
        AREA_NAME
      </isNotNull>
      )
    </dynamic>
    values
    <dynamic prepend="(" >
      <isNotNull prepend="," property="warehouseId" >
        #warehouseId:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="warehouseNo" >
        #warehouseNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="warehouseName" >
        #warehouseName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="merchantId" >
        #nMerchantId:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="areaId" >
        #areaId:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="type" >
        #type:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="depict" >
        #depict:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="overlayArea" >
        #overlayArea:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="status" >
        #status:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="createUser" >
        #createUser:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="createDate" >
        #createDate:Date#
      </isNotNull>
      <isNotNull prepend="," property="remark" >
        #remark:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="createUserName" >
        #createUserName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="overlayAreaId" >
        #overlayAreaId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="areaName" >
         #areaName:VARCHAR#
      </isNotNull>
      )
    </dynamic>
  </insert>
  <select id="ibatorgenerated_countByExample" parameterClass="com.pltfm.app.vobject.WarehouseInfoExample" resultClass="java.lang.Integer" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Jul 16 09:58:29 CST 2013.
    -->
    select count(WAREHOUSE_ID) from WAREHOUSE_INFO
    <include refid="WAREHOUSE_INFO.ibatorgenerated_Example_Where_Clause" />
  </select>
  <update id="ibatorgenerated_updateByExampleSelective" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Jul 16 09:58:29 CST 2013.
    -->
    update WAREHOUSE_INFO
    <dynamic prepend="set" >
      <isNotNull prepend="," property="record.warehouseId" >
        WAREHOUSE_ID = #record.warehouseId:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.warehouseNo" >
        WAREHOUSE_NO = #record.warehouseNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.warehouseName" >
        WAREHOUSE_NAME = #record.warehouseName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.merchantCode" >
        MERCHANT_CODE = #record.merchantCode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.areaId" >
        AREA_ID = #record.areaId:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="record.type" >
        TYPE = #record.type:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="record.depict" >
        DEPICT = #record.depict:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.overlayArea" >
        OVERLAY_AREA = #record.overlayArea:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.status" >
        STATUS = #record.status:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.createUser" >
        CREATE_USER = #record.createUser:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="record.createDate" >
        CREATE_DATE = #record.createDate:Date#
      </isNotNull>
      <isNotNull prepend="," property="record.remark" >
        REMARK = #record.remark:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="overlayAreaId" >
        OVERLAY_AREA_ID = #overlayAreaId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="areaName" >
        AREA_NAME = #areaName:VARCHAR#
      </isNotNull>
    </dynamic>
    <isParameterPresent >
      <include refid="WAREHOUSE_INFO.ibatorgenerated_Example_Where_Clause" />
    </isParameterPresent>
  </update>
  <update id="ibatorgenerated_updateByExample" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Jul 16 09:58:29 CST 2013.
    -->
    update WAREHOUSE_INFO
    set WAREHOUSE_ID = #record.warehouseId:DECIMAL#,
      WAREHOUSE_NO = #record.warehouseNo:VARCHAR#,
      WAREHOUSE_NAME = #record.warehouseName:VARCHAR#,
      MERCHANT_CODE = #record.merchantCode:VARCHAR#,
      AREA_ID = #record.areaId:INTEGER#,
      TYPE = #record.type:INTEGER#,
      DEPICT = #record.depict:VARCHAR#,
      OVERLAY_AREA = #record.overlayArea:VARCHAR#,
      STATUS = #record.status:CHAR#,
      CREATE_USER = #record.createUser:INTEGER#,
      CREATE_DATE = #record.createDate:Date#,
      REMARK = #record.remark:VARCHAR#,
      OVERLAY_AREA_ID = #record.overlayAreaId:VARCHAR#,
      AREA_NAME = #record.areaName:VARCHAR# 
    <isParameterPresent >
      <include refid="WAREHOUSE_INFO.ibatorgenerated_Example_Where_Clause" />
    </isParameterPresent>
  </update>
  <update id="ibatorgenerated_updateByPrimaryKeySelective" parameterClass="com.pltfm.app.vobject.WarehouseInfo" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Jul 16 09:58:29 CST 2013.
    -->
    update WAREHOUSE_INFO
    <dynamic prepend="set" >
      <isNotNull prepend="," property="warehouseNo" >
        WAREHOUSE_NO = #warehouseNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="warehouseName" >
        WAREHOUSE_NAME = #warehouseName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="merchantCode" >
        MERCHANT_CODE = #merchantCode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="areaId" >
        AREA_ID = #areaId:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="type" >
        TYPE = #type:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="depict" >
        DEPICT = #depict:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="overlayArea" >
        OVERLAY_AREA = #overlayArea:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="status" >
        STATUS = #status:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="createUser" >
        CREATE_USER = #createUser:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="dreateDate" >
        CREATE_DATE = #createDate:Date#
      </isNotNull>
      <isNotNull prepend="," property="remark" >
        REMARK = #remark:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="overlayAreaId" >
        OVERLAY_AREA_ID = #overlayAreaId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="areaName" >
        AREA_NAME = #areaName:VARCHAR#
      </isNotNull>
    </dynamic>
    where WAREHOUSE_ID = #warehouseId:DECIMAL#
  </update>
  <update id="ibatorgenerated_updateByPrimaryKey" parameterClass="com.pltfm.app.vobject.WarehouseInfo" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Jul 16 09:58:29 CST 2013.
    -->
    update WAREHOUSE_INFO
    <dynamic prepend="set" >
      <isNotNull prepend="," property="warehouseNo" >
       	WAREHOUSE_NO = #warehouseNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="warehouseName" >
       	WAREHOUSE_NAME = #warehouseName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="merchantCode" >
       	MERCHANT_CODE = #merchantCode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="areaId" >
       	AREA_ID = #areaId:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="type" >
       	TYPE = #type:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="depict" >
       	DEPICT = #depict:VARCHAR#
      </isNotNull>
      
      <isNotNull prepend="," property="overlayArea" >
       	OVERLAY_AREA = #overlayArea:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="status" >
       	STATUS = #status:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="createUser" >
       	CREATE_USER = #createUser:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="createDate" >
       	CREATE_DATE = #createDate:Date#
      </isNotNull>
      <isNotNull prepend="," property="remark" >
       	REMARK = #remark:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="overlayAreaId" >
        OVERLAY_AREA_ID = #overlayAreaId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="areaName" >
        AREA_NAME = #areaName:VARCHAR#
      </isNotNull>
     </dynamic>
    where WAREHOUSE_ID = #warehouseId:DECIMAL#
  </update>
  
  <update id="startWarehouse" parameterClass="com.pltfm.app.vobject.WarehouseInfo" >
    <!--
      	只有停用状态“0”才能够启动
    -->
    UPDATE WAREHOUSE_INFO
       	SET STATUS = '1' 
    WHERE WAREHOUSE_ID = #warehouseId# and STATUS='0'
  </update>
  
  <update id="stopWarehouse" parameterClass="com.pltfm.app.vobject.WarehouseInfo" >
    <!--
      	只有启用状态“1”才能够停用
    -->
     UPDATE WAREHOUSE_INFO
       	SET STATUS = '0' 
    WHERE WAREHOUSE_ID = #warehouseId# and STATUS='1'
  </update>
  
  <select id="checkWarehouseInfoName" parameterClass="java.lang.String" resultClass="java.lang.Integer">
  		select count(WAREHOUSE_ID) from WAREHOUSE_INFO where WAREHOUSE_NAME = #warehouseName# 
  </select>
  
  <select id="checkWarehouseNameByModify" parameterClass="java.lang.String" resultClass="java.lang.Long">
  		select WAREHOUSE_ID from WAREHOUSE_INFO where WAREHOUSE_NAME = #warehouseName# 
  </select>
  
    <select  id="selectWarehouseByList" resultMap="ibatorgenerated_BaseResultMap"    parameterClass="java.util.ArrayList" >
  select * from WAREHOUSE_INFO 
    	where 1=1 
    	<dynamic prepend="AND">
    		<iterate open="(" close=")" conjunction=" OR ">
    			WAREHOUSE_ID = #warehouseInfoList[].warehouseId# 
    		</iterate>
    	</dynamic>
  </select>
  
  
  <select id="selectStopWarehousByList"   resultMap="ibatorgenerated_BaseResultMap"    parameterClass="java.util.ArrayList">
    select * from   WAREHOUSE_INFO 
    	where 1=1 
    	<dynamic prepend="AND">
    		<iterate open="(" close=")" conjunction=" OR ">
    			WAREHOUSE_ID = #[]#  AND STATUS=0
    		</iterate>
    	</dynamic>
  
  </select>
  
  
  
  
  
  
</sqlMap>