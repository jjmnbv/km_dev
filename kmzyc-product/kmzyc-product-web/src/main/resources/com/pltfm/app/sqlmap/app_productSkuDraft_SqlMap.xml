<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="PRODUCT_SKU_DRAFT" >
  <resultMap id="ibatorgenerated_BaseResultMap" class="com.pltfm.app.vobject.ProductSkuDraft" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Nov 29 14:42:09 CST 2013.
    -->
    <result column="PRODUCT_SKU_ID" property="productSkuId" jdbcType="DECIMAL" />
    <result column="PRODUCT_ID" property="productId" jdbcType="DECIMAL" />
    <result column="PRODUCT_SKU_CODE" property="productSkuCode" jdbcType="VARCHAR" />
    <result column="MARK_PRICE" property="markPrice" jdbcType="DECIMAL" />
    <result column="PRICE" property="price" jdbcType="DECIMAL" />
    <result column="UNIT_WEIGHT" property="unitWeight" jdbcType="DECIMAL" />
    <result column="STATUS" property="status" jdbcType="CHAR" />
    <result column="OP_TYPE" property="opType" jdbcType="DECIMAL" />
    <result column="REASONS" property="reasons" jdbcType="VARCHAR" />
    <result column="COST_PRICE" property="costPrice" jdbcType="DECIMAL" />
    <result column="PV_VALUE" property="pvValue" jdbcType="DECIMAL" />
    <result column="COST_INCOME_RATIO" property="costIncomeRatio" jdbcType="DECIMAL" />
  </resultMap>
  
  <resultMap id="ibatorgenerated_BaseResultMap2" class="com.pltfm.app.vobject.ProductSkuDraft" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Nov 29 14:42:09 CST 2013.
    -->
    <result column="PRODUCT_SKU_ID" property="productSkuId" jdbcType="DECIMAL" />
    <result column="PRODUCT_ID" property="productId" jdbcType="DECIMAL" />
    <result column="PRODUCT_SKU_CODE" property="productSkuCode" jdbcType="VARCHAR" />
    <result column="MARK_PRICE" property="markPrice" jdbcType="DECIMAL" />
    <result column="PRICE" property="price" jdbcType="DECIMAL" />
    <result column="UNIT_WEIGHT" property="unitWeight" jdbcType="DECIMAL" />
    <result column="STATUS" property="status" jdbcType="CHAR" />
    <result column="OP_TYPE" property="opType" jdbcType="DECIMAL" />
    <result column="REASONS" property="reasons" jdbcType="VARCHAR" />
    <result column="COST_PRICE" property="costPrice" jdbcType="DECIMAL" />
    <result column="PV_VALUE" property="pvValue" jdbcType="DECIMAL" />
    <result column="COST_INCOME_RATIO" property="costIncomeRatio" jdbcType="DECIMAL" />
    <result column="SKU_INTRODUCE" property="skuIntroduce" jdbcType="VARCHAR" />
    <result column="SKU_INTRODUCELAZY" property="skuIntroduceLazy" jdbcType="VARCHAR" />
    <result column="SELLER_SKU_CODE" property="sellerSkuCode" jdbcType="VARCHAR" />
    <result column="STOCK" property="stock" jdbcType="DECIMAL" />
    <result column="SKU_BAR_CODE" property="skuBarCode" jdbcType="VARCHAR" />
  </resultMap>
  
  <resultMap id="ibatorgenerated_BaseResultMap3" class="com.pltfm.app.vobject.ProductSkuDraft" >
  	<result column="PRODUCT_TITLE" property="productTitle" jdbcType="VARCHAR" />
    <result column="PRODUCT_SKU_ID" property="productSkuId" jdbcType="DECIMAL" />
    <result column="PRODUCT_ID" property="productId" jdbcType="DECIMAL" />
    <result column="PRODUCT_SKU_CODE" property="productSkuCode" jdbcType="VARCHAR" />
    <result column="MARK_PRICE" property="markPrice" jdbcType="DECIMAL" />
    <result column="PRICE" property="price" jdbcType="DECIMAL" />
    <result column="UNIT_WEIGHT" property="unitWeight" jdbcType="DECIMAL" />
    <result column="STATUS" property="status" jdbcType="CHAR" />
    <result column="OP_TYPE" property="opType" jdbcType="DECIMAL" />
    <result column="REASONS" property="reasons" jdbcType="VARCHAR" />
    <result column="COST_PRICE" property="costPrice" jdbcType="DECIMAL" />
    <result column="PV_VALUE" property="pvValue" jdbcType="DECIMAL" />
    <result column="COST_INCOME_RATIO" property="costIncomeRatio" jdbcType="DECIMAL" />
    <result column="SKU_INTRODUCE" property="skuIntroduce" jdbcType="VARCHAR" />
    <result column="SKU_INTRODUCELAZY" property="skuIntroduceLazy" jdbcType="VARCHAR" />
    <result column="SKU_BAR_CODE" property="skuBarCode" jdbcType="VARCHAR" />
  </resultMap>
  
  <resultMap id="ibatorgenerated_BaseResultMap_official" class="com.pltfm.app.vobject.ProductSku" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Nov 29 14:42:09 CST 2013.
    -->
    <result column="PRODUCT_SKU_ID" property="productSkuId" jdbcType="DECIMAL" />
    <result column="PRODUCT_ID" property="productId" jdbcType="DECIMAL" />
    <result column="PRODUCT_SKU_CODE" property="productSkuCode" jdbcType="VARCHAR" />
    <result column="MARK_PRICE" property="markPrice" jdbcType="DECIMAL" />
    <result column="PRICE" property="price" jdbcType="DECIMAL" />
    <result column="UNIT_WEIGHT" property="unitWeight" jdbcType="DECIMAL" />
    <result column="PV_VALUE" property="pvValue" jdbcType="DECIMAL" />
    <result column="COST_INCOME_RATIO" property="costIncomeRatio" jdbcType="DECIMAL" />
    <result column="STATUS" property="status" jdbcType="CHAR" />
  </resultMap>
  
  <resultMap id="productSkuMap" class="com.pltfm.app.vobject.ProductSkuDraft" groupBy="productSkuId" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Nov 29 14:42:09 CST 2013.
    -->
    <result column="PRODUCT_SKU_ID" property="productSkuId" jdbcType="DECIMAL" />
    <result column="PRODUCT_ID" property="productId" jdbcType="DECIMAL" />
    <result column="PRODUCT_NO" property="productNo" jdbcType="VARCHAR" />
    <result column="PRODUCT_NAME" property="productName" jdbcType="VARCHAR" />
    <result column="PRODUCT_TITLE" property="productTitle" jdbcType="VARCHAR" />
    <result column="MARK_PRICE" property="markPrice" jdbcType="DECIMAL" />
    <result column="PRICE" property="price" jdbcType="DECIMAL" />
    <result column="UNIT_WEIGHT" property="unitWeight" jdbcType="DECIMAL" />
    <result column="COST_PRICE" property="costPrice" jdbcType="DECIMAL" />
    <result column="PV_VALUE" property="pvValue" jdbcType="DECIMAL" />
    <result column="COST_INCOME_RATIO" property="costIncomeRatio" jdbcType="DECIMAL" />
    <result column="PRODUCT_SKU_CODE" property="productSkuCode" jdbcType="VARCHAR" />
    <result column="STATUS" property="status" jdbcType="CHAR" />
    <result column="OP_TYPE" property="opType" jdbcType="DECIMAL" />
    <result property="attributeValues" resultMap="PRODUCT_SKU_DRAFT.attributeValue" />
  </resultMap>
  
  <resultMap id="productSkuMap2" class="com.pltfm.app.vobject.ProductSkuDraft" groupBy="productSkuId" >
    <result column="PRODUCT_SKU_ID" property="productSkuId" jdbcType="DECIMAL" />
    <result column="PRODUCT_ID" property="productId" jdbcType="DECIMAL" />
    <result column="PRODUCT_NO" property="productNo" jdbcType="VARCHAR" />
    <result column="PRODUCT_NAME" property="productName" jdbcType="VARCHAR" />
    <result column="PRODUCT_TITLE" property="productTitle" jdbcType="VARCHAR" />
    <result column="MARK_PRICE" property="markPrice" jdbcType="DECIMAL" />
    <result column="PRICE" property="price" jdbcType="DECIMAL" />
    <result column="UNIT_WEIGHT" property="unitWeight" jdbcType="DECIMAL" />
    <result column="COST_PRICE" property="costPrice" jdbcType="DECIMAL" />
    <!--<result column="PV_VALUE" property="pvValue" jdbcType="DECIMAL" />
    <result column="COST_INCOME_RATIO" property="costIncomeRatio" jdbcType="DECIMAL" />-->
    <result column="PRODUCT_SKU_CODE" property="productSkuCode" jdbcType="VARCHAR" />
    <result column="STATUS" property="status" jdbcType="CHAR" />
    <result column="OP_TYPE" property="opType" jdbcType="DECIMAL" />
   	<result column="SKU_INTRODUCE" property="skuIntroduce" jdbcType="VARCHAR" />
    <result column="SKU_INTRODUCELAZY" property="skuIntroduceLazy" jdbcType="VARCHAR" />
    <result property="attributeValues" resultMap="PRODUCT_SKU_DRAFT.attributeValue" />
  </resultMap>
  
  <resultMap id="attributeValue" class="com.pltfm.app.fobject.AttributeValue">
    <result column="CATEGORY_ATTR_NAME" property="attribute" jdbcType="VARCHAR" />
    <result column="CATEGORY_ATTR_VALUE" property="value" jdbcType="VARCHAR" />
  </resultMap>
  
  <sql id="ibatorgenerated_Example_Where_Clause" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Nov 29 14:42:09 CST 2013.
    -->
    <iterate property="oredCriteria" conjunction="or" prepend="where" removeFirstPrepend="iterate" >
      <isEqual property="oredCriteria[].valid" compareValue="true" >
        (
        <iterate prepend="and" property="oredCriteria[].criteriaWithoutValue" conjunction="and" >
          $oredCriteria[].criteriaWithoutValue[]$
        </iterate>
        <iterate prepend="and" property="oredCriteria[].criteriaWithSingleValue" conjunction="and" >
          $oredCriteria[].criteriaWithSingleValue[].condition$
            #oredCriteria[].criteriaWithSingleValue[].value#
        </iterate>
        <iterate prepend="and" property="oredCriteria[].criteriaWithListValue" conjunction="and" >
          $oredCriteria[].criteriaWithListValue[].condition$
          <iterate property="oredCriteria[].criteriaWithListValue[].values" open="(" close=")" conjunction="," >
            #oredCriteria[].criteriaWithListValue[].values[]#
          </iterate>
        </iterate>
        <iterate prepend="and" property="oredCriteria[].criteriaWithBetweenValue" conjunction="and" >
          $oredCriteria[].criteriaWithBetweenValue[].condition$
          #oredCriteria[].criteriaWithBetweenValue[].values[0]# and
          #oredCriteria[].criteriaWithBetweenValue[].values[1]#
        </iterate>
        )
      </isEqual>
    </iterate>
  </sql>
  <select id="ibatorgenerated_selectByExample" resultMap="ibatorgenerated_BaseResultMap2" parameterClass="com.pltfm.app.vobject.ProductSkuDraftExample" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Nov 29 14:42:09 CST 2013.
    -->
    select PRODUCT_SKU_ID, PRODUCT_ID, PRODUCT_SKU_CODE, MARK_PRICE, PRICE, UNIT_WEIGHT, PV_VALUE, COST_INCOME_RATIO, STATUS,
      OP_TYPE, REASONS,COST_PRICE,SKU_INTRODUCE,SKU_INTRODUCELAZY,SELLER_SKU_CODE,STOCK,SKU_BAR_CODE 
    from PRODUCT_SKU_DRAFT
    <isParameterPresent >
      <include refid="PRODUCT_SKU_DRAFT.ibatorgenerated_Example_Where_Clause" />
      <isNotNull property="orderByClause" >
        order by $orderByClause$
      </isNotNull>
    </isParameterPresent>
  </select>
  
  <select id="ibatorgenerated_selectByExample_Official" resultMap="ibatorgenerated_BaseResultMap_official" parameterClass="com.pltfm.app.vobject.ProductSkuDraftExample" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Nov 29 14:42:09 CST 2013.
    -->
    select PRODUCT_SKU_ID, PRODUCT_ID, PRODUCT_SKU_CODE, MARK_PRICE, PRICE, UNIT_WEIGHT, STATUS, PV_VALUE, COST_INCOME_RATIO
    from PRODUCT_SKU_DRAFT
    <isParameterPresent >
      <include refid="PRODUCT_SKU_DRAFT.ibatorgenerated_Example_Where_Clause" />
      <isNotNull property="orderByClause" >
        order by $orderByClause$
      </isNotNull>
    </isParameterPresent>
  </select>
  
  <select id="ibatorgenerated_selectByPrimaryKey" resultMap="ibatorgenerated_BaseResultMap" parameterClass="com.pltfm.app.vobject.ProductSkuDraft" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Nov 29 14:42:09 CST 2013.
    -->
    select PRODUCT_SKU_ID, PRODUCT_ID, PRODUCT_SKU_CODE, MARK_PRICE, PRICE, UNIT_WEIGHT, STATUS,
      OP_TYPE, REASONS, COST_PRICE, PV_VALUE, COST_INCOME_RATIO
    from PRODUCT_SKU_DRAFT
    where PRODUCT_SKU_ID = #productSkuId:DECIMAL#
  </select>
  <delete id="ibatorgenerated_deleteByPrimaryKey" parameterClass="com.pltfm.app.vobject.ProductSkuDraft" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Nov 29 14:42:09 CST 2013.
    -->
    delete from PRODUCT_SKU_DRAFT
    where PRODUCT_SKU_ID = #productSkuId:DECIMAL#
  </delete>
  <delete id="ibatorgenerated_deleteByExample" parameterClass="com.pltfm.app.vobject.ProductSkuDraftExample" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Nov 29 14:42:09 CST 2013.
    -->
    delete from PRODUCT_SKU_DRAFT
    <include refid="PRODUCT_SKU_DRAFT.ibatorgenerated_Example_Where_Clause" />
  </delete>
  <insert id="ibatorgenerated_insert" parameterClass="com.pltfm.app.vobject.ProductSkuDraft" >
    <selectKey keyProperty="productSkuId" resultClass="java.lang.Long" >
    	select SEQ_APP_PRODUCT_SKU.nextval from dual
    </selectKey>
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Nov 29 14:42:09 CST 2013.
    -->
    insert into PRODUCT_SKU_DRAFT (PRODUCT_SKU_ID, PRODUCT_ID, PRODUCT_SKU_CODE, MARK_PRICE, PRICE,
      UNIT_WEIGHT, PV_VALUE, COST_INCOME_RATIO, STATUS, OP_TYPE, REASONS, SKU_INTRODUCE, SKU_INTRODUCELAZY,SELLER_SKU_CODE,STOCK,MODIF_TIME,CREATE_TIME)
    values (#productSkuId:DECIMAL#, #productId:DECIMAL#, #productSkuCode:VARCHAR#,
      #markPrice:DECIMAL#, #price:DECIMAL#, #unitWeight:DECIMAL#, #pvValue:DECIMAL#, #costIncomeRatio:DECIMAL#, #status:CHAR#, #opType:DECIMAL#,
      #reasons:VARCHAR#, #skuIntroduce:VARCHAR#, #skuIntroduceLazy:VARCHAR#, #sellerSkuCode:VARCHAR#, #stock:DECIMAL#,sysdate,sysdate)
  </insert>
  <insert id="ibatorgenerated_insertFromOfficial_withOutSeq" parameterClass="com.pltfm.app.vobject.ProductSku" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Nov 29 14:42:09 CST 2013.
    -->
    insert into PRODUCT_SKU_DRAFT (PRODUCT_SKU_ID, PRODUCT_ID, PRODUCT_SKU_CODE, MARK_PRICE, PRICE,
      UNIT_WEIGHT, STATUS, OP_TYPE, SKU_INTRODUCE, SKU_INTRODUCELAZY,SELLER_SKU_CODE,MODIF_TIME,CREATE_TIME)
    values (#productSkuId:DECIMAL#, #productId:DECIMAL#, #productSkuCode:VARCHAR#,
      #markPrice:DECIMAL#, #price:DECIMAL#, #unitWeight:DECIMAL#, (select status from product_sku where PRODUCT_SKU_ID=#productSkuId:DECIMAL#), 2, #skuIntroduce:VARCHAR#, #skuIntroduceLazy:VARCHAR#, #sellerSkuCode:VARCHAR#,sysdate,sysdate)
  </insert>
  <insert id="ibatorgenerated_insert_withOutSeq" parameterClass="com.pltfm.app.vobject.ProductSkuDraft" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Nov 29 14:42:09 CST 2013.
    -->
    insert into PRODUCT_SKU_DRAFT (PRODUCT_SKU_ID, PRODUCT_ID, PRODUCT_SKU_CODE, MARK_PRICE,COST_PRICE, PRICE,
      UNIT_WEIGHT, PV_VALUE, COST_INCOME_RATIO, STATUS, OP_TYPE, SKU_INTRODUCE, SKU_INTRODUCELAZY, SKU_BAR_CODE,MODIF_TIME,CREATE_TIME)
    values (#productSkuId:DECIMAL#, #productId:DECIMAL#, #productSkuCode:VARCHAR#,
      #markPrice:DECIMAL#,#costPrice:DECIMAL#, #price:DECIMAL#, #unitWeight:DECIMAL#, #pvValue:DECIMAL#, #costIncomeRatio:DECIMAL#, (select status from product_sku where PRODUCT_SKU_ID=#productSkuId:DECIMAL#), 2, #skuIntroduce:VARCHAR#, #skuIntroduceLazy:VARCHAR#, #skuBarCode:VARCHAR#,sysdate,sysdate)
  </insert>
  <insert id="ibatorgenerated_insertSelective" parameterClass="com.pltfm.app.vobject.ProductSkuDraft" >
    <selectKey keyProperty="productSkuId" resultClass="java.lang.Long" >
    	select SEQ_APP_PRODUCT_SKU.nextval from dual
    </selectKey>
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Nov 29 14:42:09 CST 2013.
    -->
    insert into PRODUCT_SKU_DRAFT
    <dynamic prepend="(" >
      <isNotNull prepend="," property="productSkuId" >
        PRODUCT_SKU_ID
      </isNotNull>
      <isNotNull prepend="," property="productId" >
        PRODUCT_ID
      </isNotNull>
      <isNotNull prepend="," property="productSkuCode" >
        PRODUCT_SKU_CODE
      </isNotNull>
      <isNotNull prepend="," property="markPrice" >
        MARK_PRICE
      </isNotNull>
      <isNotNull prepend="," property="price" >
        PRICE
      </isNotNull>
      <isNotNull prepend="," property="unitWeight" >
        UNIT_WEIGHT
      </isNotNull>
      <isNotNull prepend="," property="status" >
        STATUS
      </isNotNull>
      <isNotNull prepend="," property="opType" >
        OP_TYPE
      </isNotNull>
      <isNotNull prepend="," property="reasons" >
        REASONS
      </isNotNull>
      )
    </dynamic>
    values
    <dynamic prepend="(" >
      <isNotNull prepend="," property="productSkuId" >
        #productSkuId:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="productId" >
        #productId:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="productSkuCode" >
        #productSkuCode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="markPrice" >
        #markPrice:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="price" >
        #price:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="unitWeight" >
        #unitWeight:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="status" >
        #status:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="opType" >
        #opType:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="reasons" >
        #reasons:VARCHAR#
      </isNotNull>
      )
    </dynamic>
  </insert>
  <select id="ibatorgenerated_countByExample" parameterClass="com.pltfm.app.vobject.ProductSkuDraftExample" resultClass="java.lang.Integer" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Nov 29 14:42:09 CST 2013.
    -->
    select count(1) from PRODUCT_SKU_DRAFT
    <include refid="PRODUCT_SKU_DRAFT.ibatorgenerated_Example_Where_Clause" />
  </select>
  <update id="ibatorgenerated_updateByExampleSelective" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Nov 29 14:42:09 CST 2013.
    -->
    update PRODUCT_SKU_DRAFT
    <dynamic prepend="set" >
        MODIF_TIME=sysdate,
      <isNotNull prepend="," property="record.productSkuId" >
        PRODUCT_SKU_ID = #record.productSkuId:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.productId" >
        PRODUCT_ID = #record.productId:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.productSkuCode" >
        PRODUCT_SKU_CODE = #record.productSkuCode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.markPrice" >
        MARK_PRICE = #record.markPrice:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.price" >
        PRICE = #record.price:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.unitWeight" >
        UNIT_WEIGHT = #record.unitWeight:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.status" >
        STATUS = #record.status:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.opType" >
        OP_TYPE = #record.opType:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.reasons" >
        REASONS = #record.reasons:VARCHAR#
      </isNotNull>
    </dynamic>
    <isParameterPresent >
      <include refid="PRODUCT_SKU_DRAFT.ibatorgenerated_Example_Where_Clause" />
    </isParameterPresent>
  </update>
  <update id="ibatorgenerated_updateByExample" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Nov 29 14:42:09 CST 2013.
    -->
    update PRODUCT_SKU_DRAFT
    set PRODUCT_SKU_ID = #record.productSkuId:DECIMAL#,
      PRODUCT_ID = #record.productId:DECIMAL#,
      PRODUCT_SKU_CODE = #record.productSkuCode:VARCHAR#,
      MARK_PRICE = #record.markPrice:DECIMAL#,
      PRICE = #record.price:DECIMAL#,
      UNIT_WEIGHT = #record.unitWeight:DECIMAL#,
      STATUS = #record.status:CHAR#,
      OP_TYPE = #record.opType:DECIMAL#,
      REASONS = #record.reasons:VARCHAR#,
      MODIF_TIME=sysdate
    <isParameterPresent >
      <include refid="PRODUCT_SKU_DRAFT.ibatorgenerated_Example_Where_Clause" />
    </isParameterPresent>
  </update>
  <update id="ibatorgenerated_updateByPrimaryKeySelective" parameterClass="com.pltfm.app.vobject.ProductSkuDraft" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Nov 29 14:42:09 CST 2013.
    -->
    update PRODUCT_SKU_DRAFT
    <dynamic prepend="set">
        MODIF_TIME=sysdate,
      <isNotNull prepend="," property="productId" >
        PRODUCT_ID = #productId:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="productSkuCode" >
        PRODUCT_SKU_CODE = #productSkuCode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="markPrice" >
        MARK_PRICE = #markPrice:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="costPrice" >
        COST_PRICE = #costPrice:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="price" >
        PRICE = #price:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="unitWeight" >
        UNIT_WEIGHT = #unitWeight:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="pvValue" >
        PV_VALUE = #pvValue:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="stock" >
        STOCK = #stock:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="sellerSkuCode" >
        SELLER_SKU_CODE = #sellerSkuCode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="costIncomeRatio" >
        COST_INCOME_RATIO = #costIncomeRatio:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="status" >
        STATUS = #status:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="opType" >
        OP_TYPE = #opType:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="reasons" >
        REASONS = #reasons:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="skuIntroduce" >
        SKU_INTRODUCE = #skuIntroduce:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="skuIntroduceLazy" >
        SKU_INTRODUCELAZY = #skuIntroduceLazy:VARCHAR#
      </isNotNull>
    </dynamic>
    where PRODUCT_SKU_ID = #productSkuId:DECIMAL#
  </update>
  <update id="ibatorgenerated_updateByPrimaryKey" parameterClass="com.pltfm.app.vobject.ProductSkuDraft" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Nov 29 14:42:09 CST 2013.
    -->
    update PRODUCT_SKU_DRAFT
    set PRODUCT_ID = #productId:DECIMAL#,
      PRODUCT_SKU_CODE = #productSkuCode:VARCHAR#,
      MARK_PRICE = #markPrice:DECIMAL#,
      PRICE = #price:DECIMAL#,
      UNIT_WEIGHT = #unitWeight:DECIMAL#,
      STATUS = #status:CHAR#,
      OP_TYPE = #opType:DECIMAL#,
      REASONS = #reasons:VARCHAR#
    where PRODUCT_SKU_ID = #productSkuId:DECIMAL#,
      MODIF_TIME=sysdate
  </update>
  
  <select id="findSKUAndAttrValue" resultMap="productSkuMap" parameterClass="com.pltfm.app.vobject.ProductSkuDraft" >
	<![CDATA[
	select sku.*, ca.category_attr_name, cav.category_attr_value
	  from (select *
	          from (select pd.product_id,
	                       pd.product_name,
	                       pd.product_title,
	                       pd.product_no,
	                       psd.product_sku_id,
	                       psd.product_sku_code,
	                       psd.price,
	                       psd.mark_price,
	                       psd.unit_weight,
	                       psd.cost_price,
	                       psd.pv_value,
	                       psd.cost_income_ratio,
	                       pd.status,
	                       psd.op_type,
	                       rownum rn
	                  from product_draft pd, product_sku_draft psd
	                 where pd.product_id = psd.product_id
	                 ]]>
	                 <isNotEmpty prepend="and" property="productNo" >
	                 	 pd.product_no like '%$productNo$%'
	                 </isNotEmpty>
	                 <isNotEmpty prepend="and" property="productTitle" >
	                 	 pd.product_title like '%$productTitle$%'
	                 </isNotEmpty>
	                 <isNotEmpty prepend="and" property="productSkuCode" >
	                 	 psd.product_sku_code like '%$productSkuCode$%' 
	                 </isNotEmpty>
	                 <isNotEmpty prepend="and" property="status" >
	                 	psd.status = #status#
	                 </isNotEmpty>
	                 <![CDATA[
	                   and rownum <= #max#) s
	         where s.rn >= #min#) sku,
	       product_sku_attr_draft psa,
	       category_attr ca,
	       category_attr_value cav
	 where sku.product_sku_id = psa.product_sku_id(+)
	   and psa.category_attr_id = ca.category_attr_id(+)
	   and psa.category_attr_value_id = cav.category_attr_value_id(+)
	   order by sku.product_sku_code,cav.category_attr_id
	    ]]>
  </select>
  
  <select id="findSKUAndAttrValueCounts" resultClass="java.lang.Integer" parameterClass="com.pltfm.app.vobject.ProductSkuDraft" >
  	<![CDATA[
  	select count(1)
	                  from product_draft pd, product_sku_draft psd
	                 where pd.product_id = psd.product_id
	                 ]]>
	                 <isNotEmpty prepend="and" property="productNo" >
	                 	 pd.product_no like #productNo# 
	                 </isNotEmpty>
	                 <isNotEmpty prepend="and" property="productTitle" >
	                 	 pd.product_title like '%$productTitle$%'
	                 </isNotEmpty>
	                 <isNotEmpty prepend="and" property="productName" >
	                 	 psd.product_sku_code like #productSkuCode# 
	                 </isNotEmpty>
	                 <isNotEmpty prepend="and" property="status" >
	                 	psd.status = #status#
	                 </isNotEmpty>
  
  </select>
  <select id="findSingleSkuAndAttrValue" resultMap="productSkuMap" parameterClass="java.lang.Long" >
	select pd.product_id,
	       pd.product_name,
	       pd.product_title,
	       pd.product_no,
	       psd.product_sku_id,
	       psd.product_sku_code,
	       psd.price,
           psd.mark_price,
           psd.unit_weight,
           psd.cost_price,
           psd.pv_value,
           psd.cost_income_ratio,
	       psd.status,
	       psd.op_type,
	       ca.category_attr_name,
	       decode(psa.new_attr,null,cav.CATEGORY_ATTR_VALUE,psa.new_attr) as CATEGORY_ATTR_VALUE 
	  from product_draft          pd,
	       product_sku_draft      psd,
	       product_sku_attr_draft psa,
	       category_attr          ca,
	       category_attr_value    cav
	 where pd.product_id = psd.product_id(+)
	   and psd.product_sku_id = psa.product_sku_id(+)
	   and psa.category_attr_id = ca.category_attr_id(+)
	   and psa.category_attr_value_id = cav.category_attr_value_id(+)
	   and psd.product_sku_id = #productSkuId#
	   order by cav.category_attr_id
  </select>
  
  <select id="findSingleSkuAndAttrValueForIntroduce" resultMap="productSkuMap2" parameterClass="java.lang.Long" >
	select pd.product_id,
	       pd.product_name,
	       pd.product_title,
	       pd.product_no,
	       psd.product_sku_id,
	       psd.product_sku_code,
	       psd.price,
           psd.mark_price,
           psd.unit_weight,
           psd.cost_price,
	       psd.status,
	       psd.op_type,
	       psd.SKU_INTRODUCE,
	       psd.SKU_INTRODUCELAZY,
	       ca.category_attr_name,
	       decode(psa.new_attr,null,cav.CATEGORY_ATTR_VALUE,psa.new_attr) as CATEGORY_ATTR_VALUE
	  from product_draft          pd,
	       product_sku_draft      psd,
	       product_sku_attr_draft psa,
	       category_attr          ca,
	       category_attr_value    cav
	 where pd.product_id = psd.product_id(+)
	   and psd.product_sku_id = psa.product_sku_id(+)
	   and psa.category_attr_id = ca.category_attr_id(+)
	   and psa.category_attr_value_id = cav.category_attr_value_id(+)
	   and psd.product_sku_id = #productSkuId#
	   order by cav.category_attr_id
  </select>
  
  <insert id="insertProductSkuOfficial" parameterClass="com.pltfm.app.vobject.ProductSkuDraft" >
    insert into PRODUCT_SKU (PRODUCT_SKU_ID, PRODUCT_ID, PRICE, PRODUCT_SKU_CODE,STATUS,UNIT_WEIGHT,MARK_PRICE,COST_PRICE,PV_VALUE,COST_INCOME_RATIO,SKU_INTRODUCE,SKU_INTRODUCELAZY,SELLER_SKU_CODE,STOCK,SKU_BAR_CODE,MODIF_TIME,CREATE_TIME)
    values (#productSkuId:DECIMAL#, #productId:DECIMAL#, #price:DOUBLE#, 
      #productSkuCode:VARCHAR#,#status:VARCHAR#, #unitWeight:DECIMAL#, #markPrice:DECIMAL#, #costPrice:DECIMAL#, #pvValue:DECIMAL#, #costIncomeRatio:DECIMAL#,#skuIntroduce:VARCHAR#,#skuIntroduceLazy:VARCHAR#,#sellerSkuCode:VARCHAR#,#stock:DECIMAL#,#skuBarCode:VARCHAR#,sysdate,sysdate)
  </insert>
  
  <update id="updateOfficialByPrimaryKey" parameterClass="com.pltfm.app.vobject.ProductSkuDraft" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Nov 29 14:42:09 CST 2013.
    -->
    update PRODUCT_SKU
    <dynamic prepend="set" >
    	SKU_INTRODUCE = #skuIntroduce:VARCHAR#,SKU_INTRODUCELAZY = #skuIntroduceLazy:VARCHAR#,SKU_BAR_CODE = #skuBarCode:VARCHAR#,MODIF_TIME=sysdate,
      <isNotNull prepend="," property="productId" >
        PRODUCT_ID = #productId:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="productSkuCode" >
        PRODUCT_SKU_CODE = #productSkuCode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="markPrice" >
        MARK_PRICE = #markPrice:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="price" >
        PRICE = #price:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="unitWeight" >
        UNIT_WEIGHT = #unitWeight:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="costPrice" >
        COST_PRICE = #costPrice:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="pvValue" >
        PV_VALUE = #pvValue:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="costIncomeRatio" >
        COST_INCOME_RATIO = #costIncomeRatio:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="status" >
        STATUS = #status:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="sellerSkuCode" >
        SELLER_SKU_CODE = #sellerSkuCode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="stock" >
        STOCK = #stock:DECIMAL#
      </isNotNull>
    </dynamic>
    where PRODUCT_SKU_ID = #productSkuId:DECIMAL#
  </update>
  
  <update id="updatePriceOnlyOfficialByPrimaryKey" parameterClass="com.pltfm.app.vobject.ProductSkuDraft" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Nov 29 14:42:09 CST 2013.
    -->
    update PRODUCT_SKU
    <dynamic prepend="set" >
        MODIF_TIME=sysdate,
    	SKU_BAR_CODE = #skuBarCode:VARCHAR#,
      <isNotNull prepend="," property="productId" >
        PRODUCT_ID = #productId:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="productSkuCode" >
        PRODUCT_SKU_CODE = #productSkuCode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="markPrice" >
        MARK_PRICE = #markPrice:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="price" >
        PRICE = #price:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="unitWeight" >
        UNIT_WEIGHT = #unitWeight:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="costPrice" >
        COST_PRICE = #costPrice:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="pvValue" >
        PV_VALUE = #pvValue:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="costIncomeRatio" >
        COST_INCOME_RATIO = #costIncomeRatio:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="status" >
        STATUS = #status:VARCHAR#
      </isNotNull>
    </dynamic>
    where PRODUCT_SKU_ID = #productSkuId:DECIMAL#
  </update>
  
  <update id="updateSkuPriceAndWeight" parameterClass="com.pltfm.app.vobject.ProductSkuDraft" >
  	update PRODUCT_SKU_DRAFT
    set 
      MODIF_TIME=sysdate,
      MARK_PRICE = #markPrice:DECIMAL#,
      COST_PRICE = #costPrice:DECIMAL#,
      PRICE = #price:DECIMAL#,
      UNIT_WEIGHT = #unitWeight:DECIMAL#,
      PV_VALUE = #pvValue:DECIMAL#,
      SKU_BAR_CODE = #skuBarCode:VARCHAR#,
      COST_INCOME_RATIO = #costIncomeRatio:DECIMAL#
      
    where PRODUCT_SKU_ID = #productSkuId:DECIMAL#
  </update>
  
  <!-- 20140918 maliqun add begin -->
  <update id="updateSkuOnlyUnitWeight" parameterClass="com.pltfm.app.vobject.ProductSkuDraft" >
  	update PRODUCT_SKU_DRAFT
    set 
     MODIF_TIME=sysdate, UNIT_WEIGHT = #unitWeight:DECIMAL#
      
    where PRODUCT_SKU_ID = #productSkuId:DECIMAL#
  </update>
   <!-- 20140918 maliqun add begin -->
   
   
  <select id="findSingleSkuByProductId" parameterClass="java.lang.Long" resultMap="ibatorgenerated_BaseResultMap" >
  	select product_sku_id,
	       product_id,
	       product_sku_code,
	       mark_price,
	       price,
	       unit_weight,
	       status,
	       op_type,
	       pv_value,
	       cost_income_ratio,
	       reasons,
	       COST_PRICE 
	  from product_sku_draft t
	 where t.product_sku_id in (select max(n.product_sku_id)
	                              from product_sku_draft n
	                             where n.product_id = #productId#)
  </select>
   <select id="findSKUAndAttrValueByUser" resultMap="productSkuMap" parameterClass="com.pltfm.app.vobject.ProductSkuDraft" >
	<![CDATA[
	select sku.*, ca.category_attr_name, decode(psa.new_attr,null,cav.CATEGORY_ATTR_VALUE,psa.new_attr) as CATEGORY_ATTR_VALUE  
	  from (select *
	          from (select pd.product_id,
	                       pd.product_name,
	                       pd.product_title,
	                       pd.product_no,
	                       psd.product_sku_id,
	                       psd.product_sku_code,
	                       psd.price,
	                       psd.mark_price,
	                       psd.unit_weight,
	                       psd.cost_price,
	                       psd.pv_value,
	                       psd.cost_income_ratio,
	                       pd.status,
	                       pd.op_type,
	                       rownum rn
	                  from product_draft pd, product_sku_draft psd
	                 where pd.product_id = psd.product_id
	                 ]]>
	                 <isNotEmpty prepend="and" property="productNo" >
	                 	 pd.product_no like '%$productNo$%'
	                 </isNotEmpty>
	                 <isNotEmpty prepend="and" property="productTitle" >
	                 	 pd.product_title like '%$productTitle$%'
	                 </isNotEmpty>
	                 <isNotEmpty prepend="and" property="productSkuCode" >
	                 	 psd.product_sku_code like '%$productSkuCode$%' 
	                 </isNotEmpty>
	                 <isNotEmpty prepend="and" property="status" >
	                 	psd.status = #status#
	                 </isNotEmpty>
	                 <![CDATA[
	                   and rownum <= #max#) s
	         where s.rn >= #min#) sku,
	       product_sku_attr_draft psa,
	       category_attr ca,
	       category_attr_value cav
	 where sku.product_sku_id = psa.product_sku_id(+)
	   and psa.category_attr_id = ca.category_attr_id(+)
	   and psa.category_attr_value_id = cav.category_attr_value_id(+)
	   
	   order by sku.product_sku_code,cav.category_attr_id
	    ]]>
  </select>
  <select id="findSKUAndAttrValueCountsByUser" resultClass="java.lang.Integer" parameterClass="com.pltfm.app.vobject.ProductSkuDraft" >
  	<![CDATA[
  	select count(1) from product_draft pd, product_sku_draft psd
     where pd.product_id = psd.product_id
     ]]>
     <isNotEmpty prepend="and" property="productNo" >
         pd.product_no like '%$productNo$%'
     </isNotEmpty>
     <isNotEmpty prepend="and" property="productTitle" >
         pd.product_title like '%$productTitle$%'
     </isNotEmpty>
     <isNotEmpty prepend="and" property="productSkuCode" >
         psd.product_sku_code like '%$productSkuCode$%'
     </isNotEmpty>
     <isNotEmpty prepend="and" property="status" >
        psd.status = #status#
     </isNotEmpty>
  
  </select>
  <insert id="insertDraftFromOfficial" parameterClass="com.pltfm.app.vobject.ProductSku" >
  	 insert into PRODUCT_SKU_DRAFT (PRODUCT_SKU_ID, PRODUCT_ID, PRODUCT_SKU_CODE, MARK_PRICE, PRICE, COST_PRICE,
      UNIT_WEIGHT, PV_VALUE, COST_INCOME_RATIO, STATUS, OP_TYPE,SKU_INTRODUCE,SKU_INTRODUCELAZY, STOCK, SELLER_SKU_CODE,SKU_BAR_CODE)
    values (#productSkuId:DECIMAL#, #productId:DECIMAL#, #productSkuCode:VARCHAR#,
      #markPrice:DECIMAL#, #price:DECIMAL#, #costPrice:DECIMAL#, #unitWeight:DECIMAL#, #pvValue:DECIMAL#, #costIncomeRatio:DECIMAL#, #status:VARCHAR#, 2,#skuIntroduce:VARCHAR#,#skuIntroduceLazy:VARCHAR#, #stock:DECIMAL#, #sellerSkuCode:VARCHAR#,#skuBarCode:VARCHAR#)
  </insert>
    <insert id="insertDraftFromOfficialNew" parameterClass="com.pltfm.app.vobject.ProductSku" >
        insert into PRODUCT_SKU_DRAFT (PRODUCT_SKU_ID, PRODUCT_ID, PRODUCT_SKU_CODE, MARK_PRICE, PRICE, COST_PRICE,
        UNIT_WEIGHT, PV_VALUE, COST_INCOME_RATIO, STATUS, OP_TYPE,SKU_INTRODUCE,SKU_INTRODUCELAZY, STOCK, SELLER_SKU_CODE,SKU_BAR_CODE)
        values (#productSkuId:DECIMAL#, #productId:DECIMAL#, #productSkuCode:VARCHAR#,
        #markPrice:DECIMAL#, #price:DECIMAL#, #costPrice:DECIMAL#, #unitWeight:DECIMAL#, #pvValue:DECIMAL#,
        #costIncomeRatio:DECIMAL#, #status:VARCHAR#, 6, #skuIntroduce:VARCHAR#,#skuIntroduceLazy:VARCHAR#,
         #stock:DECIMAL#, #sellerSkuCode:VARCHAR#,#skuBarCode:VARCHAR#)
    </insert>
  
    
  <select id="checkSkuPriceAndWeight" parameterClass="java.util.List" resultClass="int">
      select count(0) from PRODUCT_SKU_DRAFT
      where (MARK_PRICE is null or PRICE is null or UNIT_WEIGHT is null or PV_VALUE is null)
    <dynamic prepend="AND">
   		<iterate open="(" close=")" conjunction=" OR ">
   			PRODUCT_ID = #productIds[]# 
   		</iterate>
   	</dynamic>
  </select>
  
  <select id="findSameSkuBarCodeProductSku" parameterClass="java.util.Map" resultMap="ibatorgenerated_BaseResultMap3" >
  	select pd.PRODUCT_TITLE,psd.PRODUCT_SKU_ID, psd.PRODUCT_ID, psd.PRODUCT_SKU_CODE, psd.MARK_PRICE, psd.PRICE, psd.UNIT_WEIGHT, psd.PV_VALUE, psd.COST_INCOME_RATIO, psd.STATUS,
      psd.OP_TYPE, psd.REASONS,psd.COST_PRICE,psd.SKU_INTRODUCE,psd.SKU_INTRODUCELAZY,psd.SKU_BAR_CODE 
    from PRODUCT_SKU_DRAFT psd,PRODUCT_DRAFT pd where psd.PRODUCT_ID = pd.PRODUCT_ID
    <dynamic prepend="AND">
    	<iterate open="(" close=")" conjunction=" OR " property="skuDraftList">
			(PRODUCT_SKU_ID != #skuDraftList[].productSkuId:DECIMAL# AND SKU_BAR_CODE = #skuDraftList[].skuBarCode:VARCHAR#) 
		</iterate>
	</dynamic>
  </select>
</sqlMap>