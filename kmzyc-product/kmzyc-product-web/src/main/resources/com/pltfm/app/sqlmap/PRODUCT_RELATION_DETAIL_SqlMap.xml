<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="PRODUCT_RELATION_DETAIL" >
  <resultMap id="ibatorgenerated_BaseResultMap" class="com.pltfm.app.vobject.ProductRelationDetail" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Oct 12 17:16:34 CST 2013.
    -->
    <result column="RELATION_DETAIL_ID" property="relationDetailId" jdbcType="LONG" />
    <result column="RELATION_ID" property="relationId" jdbcType="LONG" />
    <result column="RELATION_SKU_ID" property="relationSkuId" jdbcType="LONG" />
    <result column="RELATION_SKU_PRICE" property="relationSkuPrice" jdbcType="DECIMAL" />
    <result column="RELATION_DETAIL_TYPE" property="relationDetailType" jdbcType="DECIMAL" />
    <result column="PRODUCT_COUNT" property="productCount" jdbcType="DECIMAL" />
  </resultMap>
  <sql id="ibatorgenerated_Example_Where_Clause" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Oct 12 17:16:34 CST 2013.
    -->
    <iterate property="oredCriteria" conjunction="or" prepend="where" removeFirstPrepend="iterate" >
      <isEqual property="oredCriteria[].valid" compareValue="true" >
        (
        <iterate prepend="and" property="oredCriteria[].criteriaWithoutValue" conjunction="and" >
          $oredCriteria[].criteriaWithoutValue[]$
        </iterate>
        <iterate prepend="and" property="oredCriteria[].criteriaWithSingleValue" conjunction="and" >
          $oredCriteria[].criteriaWithSingleValue[].condition$
            #oredCriteria[].criteriaWithSingleValue[].value#
        </iterate>
        <iterate prepend="and" property="oredCriteria[].criteriaWithListValue" conjunction="and" >
          $oredCriteria[].criteriaWithListValue[].condition$
          <iterate property="oredCriteria[].criteriaWithListValue[].values" open="(" close=")" conjunction="," >
            #oredCriteria[].criteriaWithListValue[].values[]#
          </iterate>
        </iterate>
        <iterate prepend="and" property="oredCriteria[].criteriaWithBetweenValue" conjunction="and" >
          $oredCriteria[].criteriaWithBetweenValue[].condition$
          #oredCriteria[].criteriaWithBetweenValue[].values[0]# and
          #oredCriteria[].criteriaWithBetweenValue[].values[1]#
        </iterate>
        )
      </isEqual>
    </iterate>
  </sql>
  <select id="ibatorgenerated_selectByExample" resultMap="ibatorgenerated_BaseResultMap" parameterClass="com.pltfm.app.vobject.ProductRelationDetailExample" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Oct 12 17:16:34 CST 2013.
    -->
    select RELATION_DETAIL_ID, RELATION_ID, RELATION_SKU_ID, RELATION_SKU_PRICE,
      RELATION_DETAIL_TYPE,PRODUCT_COUNT
    from PRODUCT_RELATION_DETAIL
    <isParameterPresent >
      <include refid="PRODUCT_RELATION_DETAIL.ibatorgenerated_Example_Where_Clause" />
      <isNotNull property="orderByClause" >
        order by $orderByClause$
      </isNotNull>
    </isParameterPresent>
  </select>
  <select id="ibatorgenerated_selectByPrimaryKey" resultMap="ibatorgenerated_BaseResultMap" parameterClass="com.pltfm.app.vobject.ProductRelationDetail" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Oct 12 17:16:34 CST 2013.
    -->
    select RELATION_DETAIL_ID, RELATION_ID, RELATION_SKU_ID, RELATION_SKU_PRICE,
      RELATION_DETAIL_TYPE,PRODUCT_COUNT
    from PRODUCT_RELATION_DETAIL
    where RELATION_DETAIL_ID = #relationDetailId:LONG#
  </select>
  <delete id="ibatorgenerated_deleteByPrimaryKey" parameterClass="com.pltfm.app.vobject.ProductRelationDetail" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Oct 12 17:16:34 CST 2013.
    -->
    delete from PRODUCT_RELATION_DETAIL
    where RELATION_DETAIL_ID = #relationDetailId:LONG#
  </delete>
  <delete id="ibatorgenerated_deleteByExample" parameterClass="com.pltfm.app.vobject.ProductRelationDetailExample" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Oct 12 17:16:34 CST 2013.
    -->
    delete from PRODUCT_RELATION_DETAIL
    <include refid="PRODUCT_RELATION_DETAIL.ibatorgenerated_Example_Where_Clause" />
  </delete>
  <insert id="ibatorgenerated_insert" parameterClass="com.pltfm.app.vobject.ProductRelationDetail" >
   
   
<selectKey keyProperty="relationDetailId" resultClass="java.lang.Long">
			select SEQ_PRODUCT_RELATION_DETAIL.nextval from dual
		</selectKey>
   
    insert into PRODUCT_RELATION_DETAIL (RELATION_DETAIL_ID, RELATION_ID, RELATION_SKU_ID,
      RELATION_SKU_PRICE, RELATION_DETAIL_TYPE)
    values (#relationDetailId:LONG#, #relationId:LONG#, #relationSkuId:LONG#,
      #relationSkuPrice:DECIMAL#, #relationDetailType:DECIMAL#)
  </insert>
  <insert id="ibatorgenerated_insertSelective" parameterClass="com.pltfm.app.vobject.ProductRelationDetail" >
    
     <selectKey keyProperty="relationDetailId" resultClass="java.lang.Long">
			select SEQ_PRODUCT_RELATION_DETAIL.nextval from dual
		</selectKey>
    insert into PRODUCT_RELATION_DETAIL
    <dynamic prepend="(" >
      <isNotNull prepend="," property="relationDetailId" >
        RELATION_DETAIL_ID
      </isNotNull>
      <isNotNull prepend="," property="relationId" >
        RELATION_ID
      </isNotNull>
      <isNotNull prepend="," property="relationSkuId" >
        RELATION_SKU_ID
      </isNotNull>
      <isNotNull prepend="," property="relationSkuPrice" >
        RELATION_SKU_PRICE
      </isNotNull>
      <isNotNull prepend="," property="relationDetailType" >
        RELATION_DETAIL_TYPE
      </isNotNull>
      <isNotNull prepend="," property="productCount" >
        PRODUCT_COUNT
      </isNotNull>
      )
    </dynamic>
    values
    <dynamic prepend="(" >
      <isNotNull prepend="," property="relationDetailId" >
        #relationDetailId:LONG#
      </isNotNull>
      <isNotNull prepend="," property="relationId" >
        #relationId:LONG#
      </isNotNull>
      <isNotNull prepend="," property="relationSkuId" >
        #relationSkuId:LONG#
      </isNotNull>
      <isNotNull prepend="," property="relationSkuPrice" >
        #relationSkuPrice:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="relationDetailType" >
        #relationDetailType:DECIMAL#
      </isNotNull>
        <isNotNull prepend="," property="productCount" >
        #productCount:DECIMAL#
      </isNotNull>
      )
    </dynamic>
  </insert>
  <select id="ibatorgenerated_countByExample" parameterClass="com.pltfm.app.vobject.ProductRelationDetailExample" resultClass="java.lang.Integer" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Oct 12 17:16:34 CST 2013.
    -->
    select count(1) from PRODUCT_RELATION_DETAIL
    <include refid="PRODUCT_RELATION_DETAIL.ibatorgenerated_Example_Where_Clause" />
  </select>
  <update id="ibatorgenerated_updateByExampleSelective" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Oct 12 17:16:34 CST 2013.
    -->
    update PRODUCT_RELATION_DETAIL
    <dynamic prepend="set" >
      <isNotNull prepend="," property="record.relationDetailId" >
        RELATION_DETAIL_ID = #record.relationDetailId:LONG#
      </isNotNull>
      <isNotNull prepend="," property="record.relationId" >
        RELATION_ID = #record.relationId:LONG#
      </isNotNull>
      <isNotNull prepend="," property="record.relationSkuId" >
        RELATION_SKU_ID = #record.relationSkuId:LONG#
      </isNotNull>
      <isNotNull prepend="," property="record.relationSkuPrice" >
        RELATION_SKU_PRICE = #record.relationSkuPrice:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.relationDetailType" >
        RELATION_DETAIL_TYPE = #record.relationDetailType:DECIMAL#
      </isNotNull>
    </dynamic>
    <isParameterPresent >
      <include refid="PRODUCT_RELATION_DETAIL.ibatorgenerated_Example_Where_Clause" />
    </isParameterPresent>
  </update>
  <update id="ibatorgenerated_updateByExample" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Oct 12 17:16:34 CST 2013.
    -->
    update PRODUCT_RELATION_DETAIL
    set RELATION_DETAIL_ID = #record.relationDetailId:LONG#,
      RELATION_ID = #record.relationId:LONG#,
      RELATION_SKU_ID = #record.relationSkuId:LONG#,
      RELATION_SKU_PRICE = #record.relationSkuPrice:DECIMAL#,
      RELATION_DETAIL_TYPE = #record.relationDetailType:DECIMAL#
    <isParameterPresent >
      <include refid="PRODUCT_RELATION_DETAIL.ibatorgenerated_Example_Where_Clause" />
    </isParameterPresent>
  </update>
  <update id="ibatorgenerated_updateByPrimaryKeySelective" parameterClass="com.pltfm.app.vobject.ProductRelationDetail" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Oct 12 17:16:34 CST 2013.
    -->
    update PRODUCT_RELATION_DETAIL
    <dynamic prepend="set" >
      <isNotNull prepend="," property="relationId" >
        RELATION_ID = #relationId:LONG#
      </isNotNull>
      <isNotNull prepend="," property="relationSkuId" >
        RELATION_SKU_ID = #relationSkuId:LONG#
      </isNotNull>
      <isNotNull prepend="," property="relationSkuPrice" >
        RELATION_SKU_PRICE = #relationSkuPrice:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="relationDetailType" >
        RELATION_DETAIL_TYPE = #relationDetailType:DECIMAL#
      </isNotNull>
       <isNotNull prepend="," property="productCount" >
        PRODUCT_COUNT = #productCount:DECIMAL#
      </isNotNull>
    </dynamic>
    where RELATION_DETAIL_ID = #relationDetailId:LONG#
  </update>
  <update id="ibatorgenerated_updateByPrimaryKey" parameterClass="com.pltfm.app.vobject.ProductRelationDetail" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Oct 12 17:16:34 CST 2013.
    -->
    update PRODUCT_RELATION_DETAIL
    set RELATION_ID = #relationId:LONG#,
      RELATION_SKU_ID = #relationSkuId:LONG#,
      RELATION_SKU_PRICE = #relationSkuPrice:DECIMAL#,
      RELATION_DETAIL_TYPE = #relationDetailType:DECIMAL#
    where RELATION_DETAIL_ID = #relationDetailId:LONG#
  </update>
  
  
   <delete id="deleteProductDeatilIdByRelationId"  parameterClass="java.lang.Long"  >
   DELETE FROM PRODUCT_RELATION_DETAIL  WHERE relation_id=#id#
   </delete>
  
   <select  id="queryProductRelationMapByRelationId"       parameterClass="java.lang.Long"   resultMap="ibatorgenerated_BaseResultMap"      >
    select   RELATION_DETAIL_ID,RELATION_ID,RELATION_SKU_ID,RELATION_SKU_PRICE,RELATION_DETAIL_TYPE,PRODUCT_COUNT
  from  PRODUCT_RELATION_DETAIL   where relation_id=#skuId#  order by RELATION_DETAIL_ID DESC
   </select>
    
  
   <delete id="deleteProductDetailByRelationId"    parameterClass="java.lang.Long" >
     DELETE FROM PRODUCT_RELATION_DETAIL  WHERE relation_detail_id =#id#
   </delete>
  
  
  
  
  
</sqlMap>